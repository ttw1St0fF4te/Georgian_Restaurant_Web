{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/hooks/useAudit.ts"],"sourcesContent":["import { useQuery, UseQueryResult } from '@tanstack/react-query';\nimport { auditApi } from '../api/services';\nimport { AuditLog, AuditOperation } from '../api/types';\n\n// Query keys для audit API\nexport const auditQueryKeys = {\n  all: ['audit'] as const,\n  logs: (filters?: object) => [...auditQueryKeys.all, 'logs', filters] as const,\n  recent: (limit: number) => [...auditQueryKeys.all, 'recent', limit] as const,\n  statistics: () => [...auditQueryKeys.all, 'statistics'] as const,\n  history: (table: string, recordId: string) => \n    [...auditQueryKeys.all, 'history', table, recordId] as const,\n  changes: (days: number) => [...auditQueryKeys.all, 'changes', days] as const,\n  userActivity: (username: string, limit: number) => \n    [...auditQueryKeys.all, 'user-activity', username, limit] as const,\n};\n\n// Хук для получения записей аудита с фильтрацией\nexport const useAuditLogs = (params?: {\n  table?: string;\n  operation?: AuditOperation;\n  user?: string;\n  recordId?: string;\n  limit?: number;\n}): UseQueryResult<AuditLog[], Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.logs(params),\n    queryFn: () => auditApi.getAuditLogs(params),\n    staleTime: 30000, // 30 секунд\n  });\n};\n\n// Хук для получения последних записей аудита\nexport const useRecentAuditLogs = (limit: number = 50): UseQueryResult<AuditLog[], Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.recent(limit),\n    queryFn: () => auditApi.getRecentAuditLogs(limit),\n    refetchInterval: 60000, // Обновляем каждую минуту\n  });\n};\n\n// Хук для получения статистики аудита\nexport const useAuditStatistics = (): UseQueryResult<{\n  operationStats: any[];\n  tableStats: any[];\n}, Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.statistics(),\n    queryFn: auditApi.getAuditStatistics,\n    staleTime: 5 * 60 * 1000, // 5 минут\n  });\n};\n\n// Хук для получения истории изменений записи\nexport const useRecordHistory = (\n  tableName: string, \n  recordId: string,\n  enabled: boolean = true\n): UseQueryResult<AuditLog[], Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.history(tableName, recordId),\n    queryFn: () => auditApi.getRecordHistory(tableName, recordId),\n    enabled: enabled && !!tableName && !!recordId,\n    staleTime: 2 * 60 * 1000, // 2 минуты\n  });\n};\n\n// Хук для получения изменений за последние дни\nexport const useRecentChanges = (days: number = 7): UseQueryResult<AuditLog[], Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.changes(days),\n    queryFn: () => auditApi.getRecentChanges(days),\n    staleTime: 60000, // 1 минута\n  });\n};\n\n// Хук для получения активности пользователя\nexport const useUserActivity = (\n  username: string, \n  limit: number = 50,\n  enabled: boolean = true\n): UseQueryResult<AuditLog[], Error> => {\n  return useQuery({\n    queryKey: auditQueryKeys.userActivity(username, limit),\n    queryFn: () => auditApi.getUserActivity(username, limit),\n    enabled: enabled && !!username,\n    staleTime: 2 * 60 * 1000, // 2 минуты\n  });\n};"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAAA;;;AAIO,MAAM,iBAAiB;IAC5B,KAAK;QAAC;KAAQ;IACd,MAAM,CAAC,UAAqB;eAAI,eAAe,GAAG;YAAE;YAAQ;SAAQ;IACpE,QAAQ,CAAC,QAAkB;eAAI,eAAe,GAAG;YAAE;YAAU;SAAM;IACnE,YAAY,IAAM;eAAI,eAAe,GAAG;YAAE;SAAa;IACvD,SAAS,CAAC,OAAe,WACvB;eAAI,eAAe,GAAG;YAAE;YAAW;YAAO;SAAS;IACrD,SAAS,CAAC,OAAiB;eAAI,eAAe,GAAG;YAAE;YAAW;SAAK;IACnE,cAAc,CAAC,UAAkB,QAC/B;eAAI,eAAe,GAAG;YAAE;YAAiB;YAAU;SAAM;AAC7D;AAGO,MAAM,eAAe,CAAC;IAO3B,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,IAAI,CAAC;QAC9B,SAAS,IAAM,kJAAQ,CAAC,YAAY,CAAC;QACrC,WAAW;IACb;AACF;AAGO,MAAM,qBAAqB,CAAC,QAAgB,EAAE;IACnD,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,MAAM,CAAC;QAChC,SAAS,IAAM,kJAAQ,CAAC,kBAAkB,CAAC;QAC3C,iBAAiB;IACnB;AACF;AAGO,MAAM,qBAAqB;IAIhC,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,UAAU;QACnC,SAAS,kJAAQ,CAAC,kBAAkB;QACpC,WAAW,IAAI,KAAK;IACtB;AACF;AAGO,MAAM,mBAAmB,CAC9B,WACA,UACA,UAAmB,IAAI;IAEvB,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,OAAO,CAAC,WAAW;QAC5C,SAAS,IAAM,kJAAQ,CAAC,gBAAgB,CAAC,WAAW;QACpD,SAAS,WAAW,CAAC,CAAC,aAAa,CAAC,CAAC;QACrC,WAAW,IAAI,KAAK;IACtB;AACF;AAGO,MAAM,mBAAmB,CAAC,OAAe,CAAC;IAC/C,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,OAAO,CAAC;QACjC,SAAS,IAAM,kJAAQ,CAAC,gBAAgB,CAAC;QACzC,WAAW;IACb;AACF;AAGO,MAAM,kBAAkB,CAC7B,UACA,QAAgB,EAAE,EAClB,UAAmB,IAAI;IAEvB,OAAO,IAAA,uLAAQ,EAAC;QACd,UAAU,eAAe,YAAY,CAAC,UAAU;QAChD,SAAS,IAAM,kJAAQ,CAAC,eAAe,CAAC,UAAU;QAClD,SAAS,WAAW,CAAC,CAAC;QACtB,WAAW,IAAI,KAAK;IACtB;AACF","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/audit/JsonViewer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Box,\n  Chip,\n} from '@mui/material';\nimport { Code as CodeIcon } from '@mui/icons-material';\n\ninterface JsonViewerProps {\n  data: any;\n  title?: string;\n  variant?: 'button' | 'chip';\n}\n\nexport const JsonViewer: React.FC<JsonViewerProps> = ({ \n  data, \n  title = 'JSON Data',\n  variant = 'button' \n}) => {\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const formatJson = (obj: any): string => {\n    if (obj === null || obj === undefined) {\n      return 'null';\n    }\n    \n    try {\n      return JSON.stringify(obj, null, 2);\n    } catch (error) {\n      return String(obj);\n    }\n  };\n\n  const hasData = data !== null && data !== undefined && Object.keys(data || {}).length > 0;\n\n  if (!hasData) {\n    return <Typography variant=\"body2\" color=\"text.secondary\">—</Typography>;\n  }\n\n  const trigger = variant === 'chip' ? (\n    <Chip\n      icon={<CodeIcon />}\n      label=\"JSON\"\n      size=\"small\"\n      onClick={handleOpen}\n      sx={{ cursor: 'pointer' }}\n      color=\"primary\"\n      variant=\"outlined\"\n    />\n  ) : (\n    <Button\n      startIcon={<CodeIcon />}\n      size=\"small\"\n      onClick={handleOpen}\n      variant=\"outlined\"\n    >\n      JSON\n    </Button>\n  );\n\n  return (\n    <>\n      {trigger}\n      \n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"md\"\n        fullWidth\n        PaperProps={{\n          sx: { minHeight: '60vh' }\n        }}\n      >\n        <DialogTitle>\n          <Box display=\"flex\" alignItems=\"center\" gap={1}>\n            <CodeIcon />\n            <Typography variant=\"h6\">{title}</Typography>\n          </Box>\n        </DialogTitle>\n        \n        <DialogContent>\n          <Box\n            component=\"pre\"\n            sx={{\n              backgroundColor: 'grey.100',\n              p: 2,\n              borderRadius: 1,\n              overflow: 'auto',\n              fontFamily: 'monospace',\n              fontSize: '0.875rem',\n              lineHeight: 1.4,\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n            }}\n          >\n            {formatJson(data)}\n          </Box>\n        </DialogContent>\n        \n        <DialogActions>\n          <Button onClick={handleClose}>Закрыть</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAbA;;;;;AAqBO,MAAM,aAAwC,CAAC,EACpD,IAAI,EACJ,QAAQ,WAAW,EACnB,UAAU,QAAQ,EACnB;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,aAAa,IAAM,QAAQ;IACjC,MAAM,cAAc,IAAM,QAAQ;IAElC,MAAM,aAAa,CAAC;QAClB,IAAI,QAAQ,QAAQ,QAAQ,WAAW;YACrC,OAAO;QACT;QAEA,IAAI;YACF,OAAO,KAAK,SAAS,CAAC,KAAK,MAAM;QACnC,EAAE,OAAO,OAAO;YACd,OAAO,OAAO;QAChB;IACF;IAEA,MAAM,UAAU,SAAS,QAAQ,SAAS,aAAa,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,MAAM,GAAG;IAExF,IAAI,CAAC,SAAS;QACZ,qBAAO,8OAAC,2NAAU;YAAC,SAAQ;YAAQ,OAAM;sBAAiB;;;;;;IAC5D;IAEA,MAAM,UAAU,YAAY,uBAC1B,8OAAC,mMAAI;QACH,oBAAM,8OAAC,oKAAQ;;;;;QACf,OAAM;QACN,MAAK;QACL,SAAS;QACT,IAAI;YAAE,QAAQ;QAAU;QACxB,OAAM;QACN,SAAQ;;;;;iEAGV,8OAAC,2MAAM;QACL,yBAAW,8OAAC,oKAAQ;;;;;QACpB,MAAK;QACL,SAAS;QACT,SAAQ;kBACT;;;;;;IAKH,qBACE;;YACG;0BAED,8OAAC,2MAAM;gBACL,MAAM;gBACN,SAAS;gBACT,UAAS;gBACT,SAAS;gBACT,YAAY;oBACV,IAAI;wBAAE,WAAW;oBAAO;gBAC1B;;kCAEA,8OAAC,+NAAW;kCACV,cAAA,8OAAC,+LAAG;4BAAC,SAAQ;4BAAO,YAAW;4BAAS,KAAK;;8CAC3C,8OAAC,oKAAQ;;;;;8CACT,8OAAC,2NAAU;oCAAC,SAAQ;8CAAM;;;;;;;;;;;;;;;;;kCAI9B,8OAAC,uOAAa;kCACZ,cAAA,8OAAC,+LAAG;4BACF,WAAU;4BACV,IAAI;gCACF,iBAAiB;gCACjB,GAAG;gCACH,cAAc;gCACd,UAAU;gCACV,YAAY;gCACZ,UAAU;gCACV,YAAY;gCACZ,YAAY;gCACZ,WAAW;4BACb;sCAEC,WAAW;;;;;;;;;;;kCAIhB,8OAAC,uOAAa;kCACZ,cAAA,8OAAC,2MAAM;4BAAC,SAAS;sCAAa;;;;;;;;;;;;;;;;;;;AAKxC","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/app/admin/audit/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Card,\n  CardContent,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  CircularProgress,\n  Alert,\n  Chip,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  TextField,\n  Button,\n} from '@mui/material';\nimport {\n  ArrowBack as ArrowBackIcon,\n  Assignment as AuditIcon,\n  Refresh as RefreshIcon,\n  Storage as DatabaseIcon,\n} from '@mui/icons-material';\nimport { useRouter } from 'next/navigation';\nimport { useAuditLogs } from '@/lib/hooks/useAudit';\nimport { databaseApi } from '@/lib/api/services';\nimport { JsonViewer } from '@/components/audit/JsonViewer';\nimport { AuditOperation } from '@/lib/api/types';\n\nconst AuditLogPage: React.FC = () => {\n  const router = useRouter();\n  const [filters, setFilters] = useState({\n    table: '',\n    operation: '' as AuditOperation | '',\n    limit: 50,\n  });\n\n  const { \n    data: auditLogs = [], \n    isLoading, \n    error, \n    refetch \n  } = useAuditLogs(filters.table || filters.operation || filters.limit !== 50 ? {\n    ...(filters.table && { table: filters.table }),\n    ...(filters.operation && { operation: filters.operation }),\n    limit: filters.limit,\n  } : undefined);\n\n  const handleFilterChange = (field: string, value: any) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleRefresh = () => {\n    refetch();\n  };\n\n  // Состояние для дампа БД\n  const [dumpLoading, setDumpLoading] = useState(false);\n  const [dumpResult, setDumpResult] = useState<string | null>(null);\n\n  const handleDatabaseDump = async () => {\n    setDumpLoading(true);\n    setDumpResult(null);\n    try {\n      const result = await databaseApi.createDump();\n      if (result.success) {\n        setDumpResult(`Дамп БД создан: ${result.fileName}\\nПуть: ${result.filePath}`);\n      } else {\n        setDumpResult('Ошибка: не удалось создать дамп БД');\n      }\n    } catch (error: any) {\n      setDumpResult(`Ошибка создания дампа БД: ${error?.message || error}`);\n    } finally {\n      setDumpLoading(false);\n    }\n  };\n\n  const getOperationChip = (operation: string) => {\n    const colors: Record<string, 'success' | 'warning' | 'error'> = {\n      INSERT: 'success',\n      UPDATE: 'warning',\n      DELETE: 'error',\n    };\n    \n    return (\n      <Chip\n        label={operation}\n        color={colors[operation] || 'default'}\n        size=\"small\"\n        variant=\"outlined\"\n      />\n    );\n  };\n\n  const formatDateTime = (timestamp: string) => {\n    return new Date(timestamp).toLocaleString('ru-RU', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n    });\n  };\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ mt: 4, mb: 4 }}>\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 3 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <IconButton\n            onClick={() => router.push('/admin')}\n            sx={{ mr: 2 }}\n            color=\"primary\"\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          <Typography variant=\"h4\" component=\"h1\" color=\"primary\">\n            <AuditIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n            Журнал аудита\n          </Typography>\n        </Box>\n        \n        <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\n          <Button\n            startIcon={<RefreshIcon />}\n            onClick={handleRefresh}\n            variant=\"outlined\"\n            disabled={isLoading}\n          >\n            Обновить\n          </Button>\n          \n          <Button\n            startIcon={dumpLoading ? <CircularProgress size={18} /> : <DatabaseIcon />}\n            onClick={handleDatabaseDump}\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={dumpLoading}\n          >\n            Дамп БД\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Результат дампа БД */}\n      {dumpResult && (\n        <Alert \n          severity={dumpResult.startsWith('Ошибка') ? 'error' : 'success'} \n          sx={{ mb: 3 }}\n          onClose={() => setDumpResult(null)}\n        >\n          <Typography variant=\"body2\" sx={{ whiteSpace: 'pre-line' }}>\n            {dumpResult}\n          </Typography>\n        </Alert>\n      )}\n\n      {/* Фильтры */}\n      <Card sx={{ mb: 3 }}>\n        <CardContent>\n          <Typography variant=\"h6\" gutterBottom>\n            Фильтры\n          </Typography>\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>\n            <Box sx={{ minWidth: 200, flexGrow: 1 }}>\n              <TextField\n                fullWidth\n                label=\"Таблица\"\n                value={filters.table}\n                onChange={(e) => handleFilterChange('table', e.target.value)}\n                size=\"small\"\n                placeholder=\"Например: users\"\n              />\n            </Box>\n            <Box sx={{ minWidth: 200, flexGrow: 1 }}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>Операция</InputLabel>\n                <Select\n                  value={filters.operation}\n                  onChange={(e) => handleFilterChange('operation', e.target.value)}\n                  label=\"Операция\"\n                >\n                  <MenuItem value=\"\">Все</MenuItem>\n                  <MenuItem value=\"INSERT\">INSERT</MenuItem>\n                  <MenuItem value=\"UPDATE\">UPDATE</MenuItem>\n                  <MenuItem value=\"DELETE\">DELETE</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n            <Box sx={{ minWidth: 200, flexGrow: 1 }}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>Лимит записей</InputLabel>\n                <Select\n                  value={filters.limit}\n                  onChange={(e) => handleFilterChange('limit', e.target.value)}\n                  label=\"Лимит записей\"\n                >\n                  <MenuItem value={25}>25</MenuItem>\n                  <MenuItem value={50}>50</MenuItem>\n                  <MenuItem value={100}>100</MenuItem>\n                  <MenuItem value={200}>200</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n          </Box>\n        </CardContent>\n      </Card>\n\n      {/* Таблица аудита */}\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" gutterBottom>\n            Записи аудита ({auditLogs.length})\n          </Typography>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              Ошибка при загрузке данных: {error.message}\n            </Alert>\n          )}\n\n          {isLoading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n            <TableContainer component={Paper} sx={{ maxHeight: 600 }}>\n              <Table stickyHeader size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell sx={{ fontWeight: 'bold' }}>ID</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Таблица</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>ID записи</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Операция</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Старые значения</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Новые значения</TableCell>\n                    <TableCell sx={{ fontWeight: 'bold' }}>Время</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {auditLogs.length === 0 ? (\n                    <TableRow>\n                      <TableCell colSpan={7} align=\"center\">\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Записи не найдены\n                        </Typography>\n                      </TableCell>\n                    </TableRow>\n                  ) : (\n                    auditLogs.map((log) => (\n                      <TableRow key={log.audit_id} hover>\n                        <TableCell>{log.audit_id}</TableCell>\n                        <TableCell>\n                          <Chip\n                            label={log.table_name}\n                            size=\"small\"\n                            color=\"primary\"\n                            variant=\"outlined\"\n                          />\n                        </TableCell>\n                        <TableCell sx={{ fontFamily: 'monospace' }}>\n                          {log.record_id || '—'}\n                        </TableCell>\n                        <TableCell>\n                          {getOperationChip(log.operation)}\n                        </TableCell>\n                        <TableCell>\n                          <JsonViewer \n                            data={log.old_values}\n                            title=\"Старые значения\"\n                            variant=\"chip\"\n                          />\n                        </TableCell>\n                        <TableCell>\n                          <JsonViewer \n                            data={log.new_values}\n                            title=\"Новые значения\"\n                            variant=\"chip\"\n                          />\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n                            {formatDateTime(log.changed_at)}\n                          </Typography>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          )}\n        </CardContent>\n      </Card>\n    </Container>\n  );\n};\n\nexport default AuditLogPage;"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AACA;AApCA;;;;;;;;;;;;AAuCA,MAAM,eAAyB;IAC7B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;QACrC,OAAO;QACP,WAAW;QACX,OAAO;IACT;IAEA,MAAM,EACJ,MAAM,YAAY,EAAE,EACpB,SAAS,EACT,KAAK,EACL,OAAO,EACR,GAAG,IAAA,+IAAY,EAAC,QAAQ,KAAK,IAAI,QAAQ,SAAS,IAAI,QAAQ,KAAK,KAAK,KAAK;QAC5E,GAAI,QAAQ,KAAK,IAAI;YAAE,OAAO,QAAQ,KAAK;QAAC,CAAC;QAC7C,GAAI,QAAQ,SAAS,IAAI;YAAE,WAAW,QAAQ,SAAS;QAAC,CAAC;QACzD,OAAO,QAAQ,KAAK;IACtB,IAAI;IAEJ,MAAM,qBAAqB,CAAC,OAAe;QACzC,WAAW,CAAA,OAAQ,CAAC;gBAClB,GAAG,IAAI;gBACP,CAAC,MAAM,EAAE;YACX,CAAC;IACH;IAEA,MAAM,gBAAgB;QACpB;IACF;IAEA,yBAAyB;IACzB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,MAAM,qBAAqB;QACzB,eAAe;QACf,cAAc;QACd,IAAI;YACF,MAAM,SAAS,MAAM,wJAAW,CAAC,UAAU;YAC3C,IAAI,OAAO,OAAO,EAAE;gBAClB,cAAc,CAAC,gBAAgB,EAAE,OAAO,QAAQ,CAAC,QAAQ,EAAE,OAAO,QAAQ,EAAE;YAC9E,OAAO;gBACL,cAAc;YAChB;QACF,EAAE,OAAO,OAAY;YACnB,cAAc,CAAC,0BAA0B,EAAE,OAAO,WAAW,OAAO;QACtE,SAAU;YACR,eAAe;QACjB;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,SAA0D;YAC9D,QAAQ;YACR,QAAQ;YACR,QAAQ;QACV;QAEA,qBACE,8OAAC,mMAAI;YACH,OAAO;YACP,OAAO,MAAM,CAAC,UAAU,IAAI;YAC5B,MAAK;YACL,SAAQ;;;;;;IAGd;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,KAAK,WAAW,cAAc,CAAC,SAAS;YACjD,MAAM;YACN,OAAO;YACP,KAAK;YACL,MAAM;YACN,QAAQ;YACR,QAAQ;QACV;IACF;IAEA,qBACE,8OAAC,uNAAS;QAAC,UAAS;QAAK,IAAI;YAAE,IAAI;YAAG,IAAI;QAAE;;0BAC1C,8OAAC,+LAAG;gBAAC,IAAI;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBAAiB,IAAI;gBAAE;;kCACvF,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,YAAY;wBAAS;;0CAC/C,8OAAC,2NAAU;gCACT,SAAS,IAAM,OAAO,IAAI,CAAC;gCAC3B,IAAI;oCAAE,IAAI;gCAAE;gCACZ,OAAM;0CAEN,cAAA,8OAAC,yKAAa;;;;;;;;;;0CAEhB,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,WAAU;gCAAK,OAAM;;kDAC5C,8OAAC,0KAAS;wCAAC,IAAI;4CAAE,IAAI;4CAAG,eAAe;wCAAS;;;;;;oCAAK;;;;;;;;;;;;;kCAKzD,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,KAAK;4BAAG,YAAY;wBAAS;;0CACvD,8OAAC,2MAAM;gCACL,yBAAW,8OAAC,uKAAW;;;;;gCACvB,SAAS;gCACT,SAAQ;gCACR,UAAU;0CACX;;;;;;0CAID,8OAAC,2MAAM;gCACL,WAAW,4BAAc,8OAAC,mPAAgB;oCAAC,MAAM;;;;;2DAAS,8OAAC,uKAAY;;;;;gCACvE,SAAS;gCACT,SAAQ;gCACR,OAAM;gCACN,UAAU;0CACX;;;;;;;;;;;;;;;;;;YAOJ,4BACC,8OAAC,uMAAK;gBACJ,UAAU,WAAW,UAAU,CAAC,YAAY,UAAU;gBACtD,IAAI;oBAAE,IAAI;gBAAE;gBACZ,SAAS,IAAM,cAAc;0BAE7B,cAAA,8OAAC,2NAAU;oBAAC,SAAQ;oBAAQ,IAAI;wBAAE,YAAY;oBAAW;8BACtD;;;;;;;;;;;0BAMP,8OAAC,mMAAI;gBAAC,IAAI;oBAAE,IAAI;gBAAE;0BAChB,cAAA,8OAAC,+NAAW;;sCACV,8OAAC,2NAAU;4BAAC,SAAQ;4BAAK,YAAY;sCAAC;;;;;;sCAGtC,8OAAC,+LAAG;4BAAC,IAAI;gCAAE,SAAS;gCAAQ,UAAU;gCAAQ,KAAK;4BAAE;;8CACnD,8OAAC,+LAAG;oCAAC,IAAI;wCAAE,UAAU;wCAAK,UAAU;oCAAE;8CACpC,cAAA,8OAAC,uNAAS;wCACR,SAAS;wCACT,OAAM;wCACN,OAAO,QAAQ,KAAK;wCACpB,UAAU,CAAC,IAAM,mBAAmB,SAAS,EAAE,MAAM,CAAC,KAAK;wCAC3D,MAAK;wCACL,aAAY;;;;;;;;;;;8CAGhB,8OAAC,+LAAG;oCAAC,IAAI;wCAAE,UAAU;wCAAK,UAAU;oCAAE;8CACpC,cAAA,8OAAC,+NAAW;wCAAC,SAAS;wCAAC,MAAK;;0DAC1B,8OAAC,2NAAU;0DAAC;;;;;;0DACZ,8OAAC,2MAAM;gDACL,OAAO,QAAQ,SAAS;gDACxB,UAAU,CAAC,IAAM,mBAAmB,aAAa,EAAE,MAAM,CAAC,KAAK;gDAC/D,OAAM;;kEAEN,8OAAC,mNAAQ;wDAAC,OAAM;kEAAG;;;;;;kEACnB,8OAAC,mNAAQ;wDAAC,OAAM;kEAAS;;;;;;kEACzB,8OAAC,mNAAQ;wDAAC,OAAM;kEAAS;;;;;;kEACzB,8OAAC,mNAAQ;wDAAC,OAAM;kEAAS;;;;;;;;;;;;;;;;;;;;;;;8CAI/B,8OAAC,+LAAG;oCAAC,IAAI;wCAAE,UAAU;wCAAK,UAAU;oCAAE;8CACpC,cAAA,8OAAC,+NAAW;wCAAC,SAAS;wCAAC,MAAK;;0DAC1B,8OAAC,2NAAU;0DAAC;;;;;;0DACZ,8OAAC,2MAAM;gDACL,OAAO,QAAQ,KAAK;gDACpB,UAAU,CAAC,IAAM,mBAAmB,SAAS,EAAE,MAAM,CAAC,KAAK;gDAC3D,OAAM;;kEAEN,8OAAC,mNAAQ;wDAAC,OAAO;kEAAI;;;;;;kEACrB,8OAAC,mNAAQ;wDAAC,OAAO;kEAAI;;;;;;kEACrB,8OAAC,mNAAQ;wDAAC,OAAO;kEAAK;;;;;;kEACtB,8OAAC,mNAAQ;wDAAC,OAAO;kEAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASlC,8OAAC,mMAAI;0BACH,cAAA,8OAAC,+NAAW;;sCACV,8OAAC,2NAAU;4BAAC,SAAQ;4BAAK,YAAY;;gCAAC;gCACpB,UAAU,MAAM;gCAAC;;;;;;;wBAGlC,uBACC,8OAAC,uMAAK;4BAAC,UAAS;4BAAQ,IAAI;gCAAE,IAAI;4BAAE;;gCAAG;gCACR,MAAM,OAAO;;;;;;;wBAI7C,0BACC,8OAAC,+LAAG;4BAAC,IAAI;gCAAE,SAAS;gCAAQ,gBAAgB;gCAAU,GAAG;4BAAE;sCACzD,cAAA,8OAAC,mPAAgB;;;;;;;;;qFAGnB,8OAAC,2OAAc;4BAAC,WAAW,uMAAK;4BAAE,IAAI;gCAAE,WAAW;4BAAI;sCACrD,cAAA,8OAAC,uMAAK;gCAAC,YAAY;gCAAC,MAAK;;kDACvB,8OAAC,uNAAS;kDACR,cAAA,8OAAC,mNAAQ;;8DACP,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;8DACvC,8OAAC,uNAAS;oDAAC,IAAI;wDAAE,YAAY;oDAAO;8DAAG;;;;;;;;;;;;;;;;;kDAG3C,8OAAC,uNAAS;kDACP,UAAU,MAAM,KAAK,kBACpB,8OAAC,mNAAQ;sDACP,cAAA,8OAAC,uNAAS;gDAAC,SAAS;gDAAG,OAAM;0DAC3B,cAAA,8OAAC,2NAAU;oDAAC,SAAQ;oDAAQ,OAAM;8DAAiB;;;;;;;;;;;;;;;uFAMvD,UAAU,GAAG,CAAC,CAAC,oBACb,8OAAC,mNAAQ;gDAAoB,KAAK;;kEAChC,8OAAC,uNAAS;kEAAE,IAAI,QAAQ;;;;;;kEACxB,8OAAC,uNAAS;kEACR,cAAA,8OAAC,mMAAI;4DACH,OAAO,IAAI,UAAU;4DACrB,MAAK;4DACL,OAAM;4DACN,SAAQ;;;;;;;;;;;kEAGZ,8OAAC,uNAAS;wDAAC,IAAI;4DAAE,YAAY;wDAAY;kEACtC,IAAI,SAAS,IAAI;;;;;;kEAEpB,8OAAC,uNAAS;kEACP,iBAAiB,IAAI,SAAS;;;;;;kEAEjC,8OAAC,uNAAS;kEACR,cAAA,8OAAC,uJAAU;4DACT,MAAM,IAAI,UAAU;4DACpB,OAAM;4DACN,SAAQ;;;;;;;;;;;kEAGZ,8OAAC,uNAAS;kEACR,cAAA,8OAAC,uJAAU;4DACT,MAAM,IAAI,UAAU;4DACpB,OAAM;4DACN,SAAQ;;;;;;;;;;;kEAGZ,8OAAC,uNAAS;kEACR,cAAA,8OAAC,2NAAU;4DAAC,SAAQ;4DAAQ,IAAI;gEAAE,YAAY;4DAAY;sEACvD,eAAe,IAAI,UAAU;;;;;;;;;;;;+CAhCrB,IAAI,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CjD;uCAEe","debugId":null}}]
}