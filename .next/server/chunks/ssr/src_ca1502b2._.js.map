{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/services/health.ts"],"sourcesContent":["import { api } from '../client';\nimport { API_ENDPOINTS } from '../config';\nimport { HealthStatus, DatabaseHealth, DatabaseInfo } from '../types';\n\n// Health API service\nexport const healthApi = {\n  // Проверка работоспособности API\n  getHealth: (): Promise<HealthStatus> => \n    api.get(API_ENDPOINTS.health),\n\n  // Проверка подключения к базе данных\n  getDatabaseHealth: (): Promise<DatabaseHealth> => \n    api.get(API_ENDPOINTS.healthDb),\n\n  // Подробная информация о базе данных\n  getDatabaseInfo: (): Promise<DatabaseInfo> => \n    api.get(API_ENDPOINTS.healthDbInfo),\n};"],"names":[],"mappings":";;;;AAAA;AACA;;;AAIO,MAAM,YAAY;IACvB,iCAAiC;IACjC,WAAW,IACT,kIAAG,CAAC,GAAG,CAAC,4IAAa,CAAC,MAAM;IAE9B,qCAAqC;IACrC,mBAAmB,IACjB,kIAAG,CAAC,GAAG,CAAC,4IAAa,CAAC,QAAQ;IAEhC,qCAAqC;IACrC,iBAAiB,IACf,kIAAG,CAAC,GAAG,CAAC,4IAAa,CAAC,YAAY;AACtC","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/services/audit.ts"],"sourcesContent":["import { api } from '../client';\nimport { API_ENDPOINTS } from '../config';\nimport { AuditLog, AuditOperation } from '../types';\n\n// Audit API service\nexport const auditApi = {\n  // Получить записи аудита с фильтрацией\n  getAuditLogs: (params?: {\n    table?: string;\n    operation?: AuditOperation;\n    user?: string;\n    recordId?: string;\n    limit?: number;\n  }): Promise<AuditLog[]> => \n    api.get(API_ENDPOINTS.audit, { params }),\n\n  // Получить последние записи аудита\n  getRecentAuditLogs: (limit: number = 50): Promise<AuditLog[]> => \n    api.get(`${API_ENDPOINTS.auditRecent}?limit=${limit}`),\n\n  // Получить статистику аудита\n  getAuditStatistics: (): Promise<{\n    operationStats: any[];\n    tableStats: any[];\n  }> => \n    api.get(API_ENDPOINTS.auditStatistics),\n\n  // Получить историю изменений записи\n  getRecordHistory: (tableName: string, recordId: string): Promise<AuditLog[]> => \n    api.get(`${API_ENDPOINTS.audit}/history?table=${tableName}&recordId=${recordId}`),\n\n  // Получить изменения за последние дни\n  getRecentChanges: (days: number = 7): Promise<AuditLog[]> => \n    api.get(`${API_ENDPOINTS.audit}/recent-changes?days=${days}`),\n\n  // Получить активность пользователя\n  getUserActivity: (username: string, limit: number = 50): Promise<AuditLog[]> => \n    api.get(`${API_ENDPOINTS.audit}/user-activity?username=${username}&limit=${limit}`),\n};"],"names":[],"mappings":";;;;AAAA;AACA;;;AAIO,MAAM,WAAW;IACtB,uCAAuC;IACvC,cAAc,CAAC,SAOb,kIAAG,CAAC,GAAG,CAAC,4IAAa,CAAC,KAAK,EAAE;YAAE;QAAO;IAExC,mCAAmC;IACnC,oBAAoB,CAAC,QAAgB,EAAE,GACrC,kIAAG,CAAC,GAAG,CAAC,GAAG,4IAAa,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO;IAEvD,6BAA6B;IAC7B,oBAAoB,IAIlB,kIAAG,CAAC,GAAG,CAAC,4IAAa,CAAC,eAAe;IAEvC,oCAAoC;IACpC,kBAAkB,CAAC,WAAmB,WACpC,kIAAG,CAAC,GAAG,CAAC,GAAG,4IAAa,CAAC,KAAK,CAAC,eAAe,EAAE,UAAU,UAAU,EAAE,UAAU;IAElF,sCAAsC;IACtC,kBAAkB,CAAC,OAAe,CAAC,GACjC,kIAAG,CAAC,GAAG,CAAC,GAAG,4IAAa,CAAC,KAAK,CAAC,qBAAqB,EAAE,MAAM;IAE9D,mCAAmC;IACnC,iBAAiB,CAAC,UAAkB,QAAgB,EAAE,GACpD,kIAAG,CAAC,GAAG,CAAC,GAAG,4IAAa,CAAC,KAAK,CAAC,wBAAwB,EAAE,SAAS,OAAO,EAAE,OAAO;AACtF","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/services/menu.ts"],"sourcesContent":["import { apiClient } from '../client';\n\n// Типы для фильтров меню\nexport interface MenuFilterParams {\n  search?: string;\n  category_id?: number;\n  is_vegetarian?: boolean;\n  is_spicy?: boolean;\n  min_price?: number;\n  max_price?: number;\n  max_cooking_time?: number;\n  max_calories?: number;\n  sort_by?: 'price' | 'cooking_time_minutes' | 'calories' | 'item_name' | 'created_at';\n  sort_order?: 'ASC' | 'DESC';\n  page?: number;\n  limit?: number;\n}\n\nexport class MenuService {\n  // Получить все категории меню\n  static async getCategories() {\n    const response = await apiClient.get('/menu-categories');\n    return response.data;\n  }\n\n  // Получить категорию по ID\n  static async getCategoryById(id: number) {\n    const response = await apiClient.get(`/menu-categories/${id}`);\n    return response.data;\n  }\n\n  // Получить меню с фильтрацией\n  static async getMenu(filters?: MenuFilterParams) {\n    const response = await apiClient.get('/menu', { params: filters });\n    return response.data;\n  }\n\n  // Получить блюда по категории\n  static async getMenuByCategory(categoryId: number, filters?: MenuFilterParams) {\n    const response = await apiClient.get(`/menu/category/${categoryId}`, { params: filters });\n    return response.data;\n  }\n\n  // Получить блюдо по ID\n  static async getMenuItemById(id: number) {\n    const response = await apiClient.get(`/menu/${id}`);\n    return response.data;\n  }\n}"],"names":[],"mappings":";;;;AAAA;;AAkBO,MAAM;IACX,8BAA8B;IAC9B,aAAa,gBAAgB;QAC3B,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC;QACrC,OAAO,SAAS,IAAI;IACtB;IAEA,2BAA2B;IAC3B,aAAa,gBAAgB,EAAU,EAAE;QACvC,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI;QAC7D,OAAO,SAAS,IAAI;IACtB;IAEA,8BAA8B;IAC9B,aAAa,QAAQ,OAA0B,EAAE;QAC/C,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,SAAS;YAAE,QAAQ;QAAQ;QAChE,OAAO,SAAS,IAAI;IACtB;IAEA,8BAA8B;IAC9B,aAAa,kBAAkB,UAAkB,EAAE,OAA0B,EAAE;QAC7E,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,YAAY,EAAE;YAAE,QAAQ;QAAQ;QACvF,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB;IACvB,aAAa,gBAAgB,EAAU,EAAE;QACvC,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI;QAClD,OAAO,SAAS,IAAI;IACtB;AACF","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/services/restaurant.ts"],"sourcesContent":["import { apiClient } from '../client';\n\nexport interface RestaurantFilterParams {\n  search?: string;\n  city?: string;\n  country?: string;\n  is_active?: boolean;\n  min_rating?: number;\n}\n\nexport class RestaurantService {\n  // Получить все рестораны с фильтрацией\n  static async getRestaurants(filters?: RestaurantFilterParams) {\n    const response = await apiClient.get('/restaurants', { params: filters });\n    return response.data;\n  }\n\n  // Получить ресторан по ID с детальной информацией\n  static async getRestaurantById(id: number) {\n    const response = await apiClient.get(`/restaurants/${id}`);\n    return response.data;\n  }\n}"],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM;IACX,uCAAuC;IACvC,aAAa,eAAe,OAAgC,EAAE;QAC5D,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,gBAAgB;YAAE,QAAQ;QAAQ;QACvE,OAAO,SAAS,IAAI;IACtB;IAEA,kDAAkD;IAClD,aAAa,kBAAkB,EAAU,EAAE;QACzC,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,IAAI;QACzD,OAAO,SAAS,IAAI;IACtB;AACF","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/services/index.ts"],"sourcesContent":["// Экспорт всех API сервисов\nexport { healthApi } from './health';\nexport { auditApi } from './audit';\nexport { MenuService } from './menu';\nexport { RestaurantService } from './restaurant';\n\n// Здесь будем добавлять новые сервисы по мере разработки API:\n// export { authApi } from './auth';\n// export { tablesApi } from './tables';\n// export { reservationsApi } from './reservations';\n// export { ordersApi } from './orders';"],"names":[],"mappings":"AAAA,4BAA4B;;AAC5B;AACA;AACA;AACA,kPAEA,8DAA8D;CAC9D,oCAAoC;CACpC,wCAAwC;CACxC,oDAAoD;CACpD,wCAAwC","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/reviews.ts"],"sourcesContent":["import { api } from './client';\nimport {\n  ReviewResponseDto,\n  CreateReviewDto,\n  UpdateReviewDto,\n  ReviewFilterDto,\n  PaginatedReviewsDto,\n  ReviewStatsDto,\n} from './types';\n\nexport const reviewsApi = {\n  // Получить все отзывы с фильтрацией\n  getReviews: async (filters: ReviewFilterDto = {}): Promise<PaginatedReviewsDto> => {\n    const params = new URLSearchParams();\n    \n    if (filters.restaurantId) params.append('restaurantId', filters.restaurantId.toString());\n    if (filters.userId) params.append('userId', filters.userId);\n    if (filters.minRating) params.append('minRating', filters.minRating.toString());\n    if (filters.maxRating) params.append('maxRating', filters.maxRating.toString());\n    if (filters.sortBy) params.append('sortBy', filters.sortBy);\n    if (filters.sortOrder) params.append('sortOrder', filters.sortOrder);\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.limit) params.append('limit', filters.limit.toString());\n\n    const response = await api.get(`/reviews?${params.toString()}`);\n    return response;\n  },\n\n  // Получить отзывы конкретного ресторана\n  getRestaurantReviews: async (restaurantId: number, filters: ReviewFilterDto = {}): Promise<PaginatedReviewsDto> => {\n    const params = new URLSearchParams();\n    \n    if (filters.minRating) params.append('minRating', filters.minRating.toString());\n    if (filters.maxRating) params.append('maxRating', filters.maxRating.toString());\n    if (filters.sortBy) params.append('sortBy', filters.sortBy);\n    if (filters.sortOrder) params.append('sortOrder', filters.sortOrder);\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.limit) params.append('limit', filters.limit.toString());\n\n    const response = await api.get(`/reviews/restaurant/${restaurantId}?${params.toString()}`);\n    return response;\n  },\n\n  // Получить статистику отзывов ресторана\n  getRestaurantReviewStats: async (restaurantId: number): Promise<ReviewStatsDto> => {\n    const response = await api.get(`/reviews/restaurant/${restaurantId}/stats`);\n    return response;\n  },\n\n  // Получить отзыв по ID\n  getReview: async (reviewId: string): Promise<ReviewResponseDto> => {\n    const response = await api.get(`/reviews/${reviewId}`);\n    return response;\n  },\n\n  // Создать новый отзыв\n  createReview: async (reviewData: CreateReviewDto): Promise<ReviewResponseDto> => {\n    const response = await api.post('/reviews', reviewData);\n    return response;\n  },\n\n  // Обновить отзыв (только админы)\n  updateReview: async (reviewId: string, reviewData: UpdateReviewDto): Promise<ReviewResponseDto> => {\n    const response = await api.put(`/reviews/${reviewId}`, reviewData);\n    return response;\n  },\n\n  // Удалить отзыв\n  deleteReview: async (reviewId: string): Promise<{ message: string }> => {\n    const response = await api.delete(`/reviews/${reviewId}`);\n    return response;\n  },\n\n  // Получить отзывы текущего пользователя\n  getMyReviews: async (filters: ReviewFilterDto = {}): Promise<PaginatedReviewsDto> => {\n    const params = new URLSearchParams();\n    \n    if (filters.minRating) params.append('minRating', filters.minRating.toString());\n    if (filters.maxRating) params.append('maxRating', filters.maxRating.toString());\n    if (filters.sortBy) params.append('sortBy', filters.sortBy);\n    if (filters.sortOrder) params.append('sortOrder', filters.sortOrder);\n    if (filters.page) params.append('page', filters.page.toString());\n    if (filters.limit) params.append('limit', filters.limit.toString());\n\n    const response = await api.get(`/reviews/my?${params.toString()}`);\n    return response;\n  },\n\n  // Удалить свой отзыв для ресторана\n  deleteMyRestaurantReview: async (restaurantId: number): Promise<{ message: string }> => {\n    const response = await api.delete(`/reviews/restaurant/${restaurantId}/my`);\n    return response;\n  },\n\n  // Переключить отзыв (создать или удалить)\n  toggleRestaurantReview: async (restaurantId: number, reviewData: CreateReviewDto): Promise<ReviewResponseDto | { message: string }> => {\n    const response = await api.post(`/reviews/restaurant/${restaurantId}/toggle`, reviewData);\n    return response;\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/lib/api/hooks.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { MenuService, RestaurantService } from './services';\nimport { reviewsApi } from './reviews';\nimport { MenuFilterParams } from './services/menu';\nimport { RestaurantFilterParams } from './services/restaurant';\nimport { ReviewFilterDto, CreateReviewDto, UpdateReviewDto } from './types';\n\n// Menu hooks\nexport const useMenuCategories = () => {\n  return useQuery({\n    queryKey: ['menu', 'categories'],\n    queryFn: MenuService.getCategories,\n    staleTime: 5 * 60 * 1000, // 5 минут\n  });\n};\n\nexport const useMenuCategory = (id: number) => {\n  return useQuery({\n    queryKey: ['menu', 'categories', id],\n    queryFn: () => MenuService.getCategoryById(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  });\n};\n\nexport const useMenu = (filters?: MenuFilterParams) => {\n  return useQuery({\n    queryKey: ['menu', 'items', filters],\n    queryFn: () => MenuService.getMenu(filters),\n    staleTime: 2 * 60 * 1000, // 2 минуты для меню\n  });\n};\n\nexport const useMenuByCategory = (categoryId: number, filters?: MenuFilterParams) => {\n  return useQuery({\n    queryKey: ['menu', 'items', 'category', categoryId, filters],\n    queryFn: () => MenuService.getMenuByCategory(categoryId, filters),\n    enabled: !!categoryId,\n    staleTime: 2 * 60 * 1000,\n  });\n};\n\nexport const useMenuItem = (id: number) => {\n  return useQuery({\n    queryKey: ['menu', 'items', id],\n    queryFn: () => MenuService.getMenuItemById(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  });\n};\n\n// Restaurant hooks\nexport const useRestaurants = (filters?: RestaurantFilterParams) => {\n  return useQuery({\n    queryKey: ['restaurants', filters],\n    queryFn: () => RestaurantService.getRestaurants(filters),\n    staleTime: 5 * 60 * 1000, // 5 минут\n  });\n};\n\nexport const useRestaurant = (id: number) => {\n  return useQuery({\n    queryKey: ['restaurants', id],\n    queryFn: () => RestaurantService.getRestaurantById(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  });\n};\n\n// Reviews hooks\nexport const useRestaurantReviews = (restaurantId: number, filters?: ReviewFilterDto) => {\n  return useQuery({\n    queryKey: ['reviews', 'restaurant', restaurantId, filters],\n    queryFn: () => reviewsApi.getRestaurantReviews(restaurantId, filters),\n    enabled: !!restaurantId,\n    staleTime: 2 * 60 * 1000, // 2 минуты\n  });\n};\n\nexport const useRestaurantReviewStats = (restaurantId: number) => {\n  return useQuery({\n    queryKey: ['reviews', 'restaurant', restaurantId, 'stats'],\n    queryFn: () => reviewsApi.getRestaurantReviewStats(restaurantId),\n    enabled: !!restaurantId,\n    staleTime: 5 * 60 * 1000,\n  });\n};\n\nexport const useMyReviews = (filters?: ReviewFilterDto) => {\n  return useQuery({\n    queryKey: ['reviews', 'my', filters],\n    queryFn: () => reviewsApi.getMyReviews(filters),\n    staleTime: 2 * 60 * 1000,\n  });\n};\n\nexport const useReview = (reviewId: string) => {\n  return useQuery({\n    queryKey: ['reviews', reviewId],\n    queryFn: () => reviewsApi.getReview(reviewId),\n    enabled: !!reviewId,\n    staleTime: 5 * 60 * 1000,\n  });\n};\n\n// Reviews mutations\nexport const useCreateReview = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (reviewData: CreateReviewDto) => reviewsApi.createReview(reviewData),\n    onSuccess: (data) => {\n      // Обновляем кэш отзывов ресторана\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'restaurant', data.restaurant_id] \n      });\n      // Обновляем мои отзывы\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'my'] \n      });\n      // Обновляем информацию о ресторане (рейтинг мог измениться)\n      queryClient.invalidateQueries({ \n        queryKey: ['restaurants', data.restaurant_id] \n      });\n    },\n  });\n};\n\nexport const useUpdateReview = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ reviewId, reviewData }: { reviewId: string; reviewData: UpdateReviewDto }) =>\n      reviewsApi.updateReview(reviewId, reviewData),\n    onSuccess: (data) => {\n      // Обновляем кэш конкретного отзыва\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', data.review_id] \n      });\n      // Обновляем отзывы ресторана\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'restaurant', data.restaurant_id] \n      });\n      // Обновляем мои отзывы\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'my'] \n      });\n      // Обновляем информацию о ресторане\n      queryClient.invalidateQueries({ \n        queryKey: ['restaurants', data.restaurant_id] \n      });\n    },\n  });\n};\n\nexport const useDeleteReview = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (reviewId: string) => reviewsApi.deleteReview(reviewId),\n    onSuccess: (_, reviewId) => {\n      // Удаляем конкретный отзыв из кэша\n      queryClient.removeQueries({ \n        queryKey: ['reviews', reviewId] \n      });\n      // Обновляем все связанные запросы\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews'] \n      });\n      queryClient.invalidateQueries({ \n        queryKey: ['restaurants'] \n      });\n    },\n  });\n};\n\nexport const useDeleteMyRestaurantReview = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (restaurantId: number) => reviewsApi.deleteMyRestaurantReview(restaurantId),\n    onSuccess: (_, restaurantId) => {\n      // Обновляем отзывы ресторана\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'restaurant', restaurantId] \n      });\n      // Обновляем мои отзывы\n      queryClient.invalidateQueries({ \n        queryKey: ['reviews', 'my'] \n      });\n      // Обновляем информацию о ресторане\n      queryClient.invalidateQueries({ \n        queryKey: ['restaurants', restaurantId] \n      });\n    },\n  });\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/menu/MenuFilters.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Box,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  FormControlLabel,\n  Checkbox,\n  Typography,\n  Paper,\n  Chip,\n  IconButton,\n  Collapse,\n  Button,\n} from '@mui/material';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\nimport { MenuFilterDto, MenuCategoryResponseDto } from '@/lib/api/types';\n\ninterface MenuFiltersProps {\n  filters: MenuFilterDto;\n  categories: MenuCategoryResponseDto[];\n  onFiltersChange: (filters: MenuFilterDto) => void;\n  onClearFilters: () => void;\n}\n\nconst MenuFilters: React.FC<MenuFiltersProps> = ({\n  filters,\n  categories,\n  onFiltersChange,\n  onClearFilters,\n}) => {\n  const [isExpanded, setIsExpanded] = React.useState(false);\n\n  const handleFilterChange = (key: keyof MenuFilterDto, value: any) => {\n    const newFilters = {\n      ...filters,\n      [key]: value === '' ? undefined : value,\n    };\n    \n    // Если изменяется порядок сортировки, но тип сортировки не задан, используем created_at по умолчанию\n    if (key === 'sort_order' && !filters.sort_by) {\n      newFilters.sort_by = 'created_at';\n    }\n    \n    // При изменении типа сортировки устанавливаем правильный порядок по умолчанию\n    if (key === 'sort_by') {\n      if (value === 'created_at' && !filters.sort_order) {\n        newFilters.sort_order = 'DESC'; // Для даты - сначала новые\n      } else if (['price', 'cooking_time_minutes', 'calories'].includes(value) && !filters.sort_order) {\n        newFilters.sort_order = 'ASC'; // Для остальных - по возрастанию\n      }\n    }\n    \n    onFiltersChange(newFilters);\n  };\n\n  const getActiveFiltersCount = () => {\n    let count = 0;\n    if (filters.search) count++;\n    if (filters.category_id) count++;\n    if (filters.is_vegetarian) count++;\n    if (filters.is_spicy) count++;\n    if (filters.min_price) count++;\n    if (filters.max_price) count++;\n    if (filters.max_cooking_time) count++;\n    return count;\n  };\n\n  const activeFiltersCount = getActiveFiltersCount();\n\n  return (\n    <Paper sx={{ p: 2, mb: 3 }}>\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <FilterListIcon />\n          <Typography variant=\"h6\">Фильтры</Typography>\n          {activeFiltersCount > 0 && (\n            <Chip \n              label={`${activeFiltersCount} активных`} \n              size=\"small\" \n              color=\"primary\" \n            />\n          )}\n        </Box>\n        \n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          {activeFiltersCount > 0 && (\n            <Button\n              size=\"small\"\n              startIcon={<ClearIcon />}\n              onClick={onClearFilters}\n            >\n              Очистить\n            </Button>\n          )}\n          <IconButton onClick={() => setIsExpanded(!isExpanded)}>\n            {isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n          </IconButton>\n        </Box>\n      </Box>\n\n      {/* Поиск всегда виден */}\n      <TextField\n        fullWidth\n        label=\"Поиск по названию или описанию\"\n        value={filters.search || ''}\n        onChange={(e) => handleFilterChange('search', e.target.value)}\n        sx={{ mb: 2 }}\n      />\n\n      <Collapse in={isExpanded}>\n        <Box sx={{ display: 'grid', gap: 2, gridTemplateColumns: { xs: '1fr', sm: '1fr 1fr', md: '1fr 1fr 1fr' } }}>\n          {/* Категория */}\n          <FormControl fullWidth>\n            <InputLabel>Категория</InputLabel>\n            <Select\n              value={filters.category_id || ''}\n              label=\"Категория\"\n              onChange={(e) => handleFilterChange('category_id', e.target.value)}\n            >\n              <MenuItem value=\"\">Все категории</MenuItem>\n              {categories.map((category) => (\n                <MenuItem key={category.category_id} value={category.category_id}>\n                  {category.category_name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n\n          {/* Цена от */}\n          <TextField\n            type=\"number\"\n            label=\"Цена от (₾)\"\n            value={filters.min_price || ''}\n            onChange={(e) => handleFilterChange('min_price', Number(e.target.value) || undefined)}\n            inputProps={{ min: 0, step: 0.01 }}\n          />\n\n          {/* Цена до */}\n          <TextField\n            type=\"number\"\n            label=\"Цена до (₾)\"\n            value={filters.max_price || ''}\n            onChange={(e) => handleFilterChange('max_price', Number(e.target.value) || undefined)}\n            inputProps={{ min: 0, step: 0.01 }}\n          />\n\n          {/* Время приготовления */}\n          <TextField\n            type=\"number\"\n            label=\"Время приготовления (макс. мин)\"\n            value={filters.max_cooking_time || ''}\n            onChange={(e) => handleFilterChange('max_cooking_time', Number(e.target.value) || undefined)}\n            inputProps={{ min: 0 }}\n          />\n\n          {/* Сортировка */}\n          <FormControl fullWidth>\n            <InputLabel>Сортировать по</InputLabel>\n            <Select\n              value={filters.sort_by || 'created_at'}\n              label=\"Сортировать по\"\n              onChange={(e) => handleFilterChange('sort_by', e.target.value)}\n            >\n              <MenuItem value=\"created_at\">По дате добавления (по умолчанию)</MenuItem>\n              <MenuItem value=\"price\">По цене</MenuItem>\n              <MenuItem value=\"cooking_time_minutes\">По времени приготовления</MenuItem>\n              <MenuItem value=\"calories\">По калориям</MenuItem>\n            </Select>\n          </FormControl>\n\n          {/* Порядок сортировки */}\n          <FormControl fullWidth>\n            <InputLabel>Порядок</InputLabel>\n            <Select\n              value={filters.sort_order || 'DESC'}\n              label=\"Порядок\"\n              onChange={(e) => handleFilterChange('sort_order', e.target.value)}\n            >\n              <MenuItem value=\"ASC\">По возрастанию</MenuItem>\n              <MenuItem value=\"DESC\">По убыванию</MenuItem>\n            </Select>\n          </FormControl>\n        </Box>\n\n        {/* Чекбоксы */}\n        <Box sx={{ mt: 2, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={filters.is_vegetarian || false}\n                onChange={(e) => handleFilterChange('is_vegetarian', e.target.checked || undefined)}\n              />\n            }\n            label=\"Только вегетарианские\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={filters.is_spicy || false}\n                onChange={(e) => handleFilterChange('is_spicy', e.target.checked || undefined)}\n              />\n            }\n            label=\"Только острые\"\n          />\n        </Box>\n      </Collapse>\n    </Paper>\n  );\n};\n\nexport default MenuFilters;"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AAtBA;;;;;;;;AAgCA,MAAM,cAA0C,CAAC,EAC/C,OAAO,EACP,UAAU,EACV,eAAe,EACf,cAAc,EACf;IACC,MAAM,CAAC,YAAY,cAAc,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAEnD,MAAM,qBAAqB,CAAC,KAA0B;QACpD,MAAM,aAAa;YACjB,GAAG,OAAO;YACV,CAAC,IAAI,EAAE,UAAU,KAAK,YAAY;QACpC;QAEA,qGAAqG;QACrG,IAAI,QAAQ,gBAAgB,CAAC,QAAQ,OAAO,EAAE;YAC5C,WAAW,OAAO,GAAG;QACvB;QAEA,8EAA8E;QAC9E,IAAI,QAAQ,WAAW;YACrB,IAAI,UAAU,gBAAgB,CAAC,QAAQ,UAAU,EAAE;gBACjD,WAAW,UAAU,GAAG,QAAQ,2BAA2B;YAC7D,OAAO,IAAI;gBAAC;gBAAS;gBAAwB;aAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,UAAU,EAAE;gBAC/F,WAAW,UAAU,GAAG,OAAO,iCAAiC;YAClE;QACF;QAEA,gBAAgB;IAClB;IAEA,MAAM,wBAAwB;QAC5B,IAAI,QAAQ;QACZ,IAAI,QAAQ,MAAM,EAAE;QACpB,IAAI,QAAQ,WAAW,EAAE;QACzB,IAAI,QAAQ,aAAa,EAAE;QAC3B,IAAI,QAAQ,QAAQ,EAAE;QACtB,IAAI,QAAQ,SAAS,EAAE;QACvB,IAAI,QAAQ,SAAS,EAAE;QACvB,IAAI,QAAQ,gBAAgB,EAAE;QAC9B,OAAO;IACT;IAEA,MAAM,qBAAqB;IAE3B,qBACE,8OAAC,uMAAK;QAAC,IAAI;YAAE,GAAG;YAAG,IAAI;QAAE;;0BACvB,8OAAC,+LAAG;gBAAC,IAAI;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,gBAAgB;oBAAiB,IAAI;gBAAE;;kCACvF,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,YAAY;4BAAU,KAAK;wBAAE;;0CACvD,8OAAC,0KAAc;;;;;0CACf,8OAAC,2NAAU;gCAAC,SAAQ;0CAAK;;;;;;4BACxB,qBAAqB,mBACpB,8OAAC,mMAAI;gCACH,OAAO,GAAG,mBAAmB,SAAS,CAAC;gCACvC,MAAK;gCACL,OAAM;;;;;;;;;;;;kCAKZ,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,YAAY;4BAAU,KAAK;wBAAE;;4BACtD,qBAAqB,mBACpB,8OAAC,2MAAM;gCACL,MAAK;gCACL,yBAAW,8OAAC,qKAAS;;;;;gCACrB,SAAS;0CACV;;;;;;0CAIH,8OAAC,2NAAU;gCAAC,SAAS,IAAM,cAAc,CAAC;0CACvC,2BAAa,8OAAC,0KAAc;;;;6FAAM,8OAAC,0KAAc;;;;;;;;;;;;;;;;;;;;;;0BAMxD,8OAAC,uNAAS;gBACR,SAAS;gBACT,OAAM;gBACN,OAAO,QAAQ,MAAM,IAAI;gBACzB,UAAU,CAAC,IAAM,mBAAmB,UAAU,EAAE,MAAM,CAAC,KAAK;gBAC5D,IAAI;oBAAE,IAAI;gBAAE;;;;;;0BAGd,8OAAC,mNAAQ;gBAAC,IAAI;;kCACZ,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,KAAK;4BAAG,qBAAqB;gCAAE,IAAI;gCAAO,IAAI;gCAAW,IAAI;4BAAc;wBAAE;;0CAEvG,8OAAC,+NAAW;gCAAC,SAAS;;kDACpB,8OAAC,2NAAU;kDAAC;;;;;;kDACZ,8OAAC,2MAAM;wCACL,OAAO,QAAQ,WAAW,IAAI;wCAC9B,OAAM;wCACN,UAAU,CAAC,IAAM,mBAAmB,eAAe,EAAE,MAAM,CAAC,KAAK;;0DAEjE,8OAAC,mNAAQ;gDAAC,OAAM;0DAAG;;;;;;4CAClB,WAAW,GAAG,CAAC,CAAC,yBACf,8OAAC,mNAAQ;oDAA4B,OAAO,SAAS,WAAW;8DAC7D,SAAS,aAAa;mDADV,SAAS,WAAW;;;;;;;;;;;;;;;;;0CAQzC,8OAAC,uNAAS;gCACR,MAAK;gCACL,OAAM;gCACN,OAAO,QAAQ,SAAS,IAAI;gCAC5B,UAAU,CAAC,IAAM,mBAAmB,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;gCAC3E,YAAY;oCAAE,KAAK;oCAAG,MAAM;gCAAK;;;;;;0CAInC,8OAAC,uNAAS;gCACR,MAAK;gCACL,OAAM;gCACN,OAAO,QAAQ,SAAS,IAAI;gCAC5B,UAAU,CAAC,IAAM,mBAAmB,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;gCAC3E,YAAY;oCAAE,KAAK;oCAAG,MAAM;gCAAK;;;;;;0CAInC,8OAAC,uNAAS;gCACR,MAAK;gCACL,OAAM;gCACN,OAAO,QAAQ,gBAAgB,IAAI;gCACnC,UAAU,CAAC,IAAM,mBAAmB,oBAAoB,OAAO,EAAE,MAAM,CAAC,KAAK,KAAK;gCAClF,YAAY;oCAAE,KAAK;gCAAE;;;;;;0CAIvB,8OAAC,+NAAW;gCAAC,SAAS;;kDACpB,8OAAC,2NAAU;kDAAC;;;;;;kDACZ,8OAAC,2MAAM;wCACL,OAAO,QAAQ,OAAO,IAAI;wCAC1B,OAAM;wCACN,UAAU,CAAC,IAAM,mBAAmB,WAAW,EAAE,MAAM,CAAC,KAAK;;0DAE7D,8OAAC,mNAAQ;gDAAC,OAAM;0DAAa;;;;;;0DAC7B,8OAAC,mNAAQ;gDAAC,OAAM;0DAAQ;;;;;;0DACxB,8OAAC,mNAAQ;gDAAC,OAAM;0DAAuB;;;;;;0DACvC,8OAAC,mNAAQ;gDAAC,OAAM;0DAAW;;;;;;;;;;;;;;;;;;0CAK/B,8OAAC,+NAAW;gCAAC,SAAS;;kDACpB,8OAAC,2NAAU;kDAAC;;;;;;kDACZ,8OAAC,2MAAM;wCACL,OAAO,QAAQ,UAAU,IAAI;wCAC7B,OAAM;wCACN,UAAU,CAAC,IAAM,mBAAmB,cAAc,EAAE,MAAM,CAAC,KAAK;;0DAEhE,8OAAC,mNAAQ;gDAAC,OAAM;0DAAM;;;;;;0DACtB,8OAAC,mNAAQ;gDAAC,OAAM;0DAAO;;;;;;;;;;;;;;;;;;;;;;;;kCAM7B,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,IAAI;4BAAG,SAAS;4BAAQ,KAAK;4BAAG,UAAU;wBAAO;;0CAC1D,8OAAC,mPAAgB;gCACf,uBACE,8OAAC,mNAAQ;oCACP,SAAS,QAAQ,aAAa,IAAI;oCAClC,UAAU,CAAC,IAAM,mBAAmB,iBAAiB,EAAE,MAAM,CAAC,OAAO,IAAI;;;;;;gCAG7E,OAAM;;;;;;0CAER,8OAAC,mPAAgB;gCACf,uBACE,8OAAC,mNAAQ;oCACP,SAAS,QAAQ,QAAQ,IAAI;oCAC7B,UAAU,CAAC,IAAM,mBAAmB,YAAY,EAAE,MAAM,CAAC,OAAO,IAAI;;;;;;gCAGxE,OAAM;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;uCAEe","debugId":null}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/menu/MenuItemCard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Box,\n  Chip,\n  Button,\n  CardActions,\n  CircularProgress,\n  Snackbar,\n  Alert,\n} from '@mui/material';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\nimport { MenuItemResponseDto } from '@/lib/api/types';\nimport { useCart } from '@/lib/cart-context';\nimport { useAuth } from '@/lib/auth-context';\n\ninterface MenuItemCardProps {\n  item: MenuItemResponseDto;\n  onViewDetails?: (item: MenuItemResponseDto) => void;\n}\n\nconst MenuItemCard: React.FC<MenuItemCardProps> = ({ item, onViewDetails }) => {\n  const { addToCart } = useCart();\n  const { isAuthenticated, user } = useAuth();\n  const [showSnackbar, setShowSnackbar] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleAddToCart = async () => {\n    if (!isAuthenticated) {\n      setSnackbarMessage('Войдите в систему для добавления товаров в корзину');\n      setShowSnackbar(true);\n      return;\n    }\n\n    if (user?.role !== 'user') {\n      setSnackbarMessage('Только пользователи могут добавлять товары в корзину');\n      setShowSnackbar(true);\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await addToCart(item.item_id, 1);\n      setSnackbarMessage('Товар добавлен в корзину');\n      setShowSnackbar(true);\n    } catch (error) {\n      setSnackbarMessage('Ошибка при добавлении товара в корзину');\n      setShowSnackbar(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return (\n    <>\n      <Card \n        sx={{ \n          height: '100%', \n          display: 'flex', \n          flexDirection: 'column',\n          transition: 'transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out',\n          '&:hover': {\n            transform: 'translateY(-4px)',\n            boxShadow: 4,\n          },\n        }}\n      >\n      {item.image_url && (\n        <CardMedia\n          component=\"img\"\n          height=\"200\"\n          image={item.image_url}\n          alt={item.item_name}\n          sx={{ objectFit: 'cover' }}\n        />\n      )}\n      \n      <CardContent sx={{ flexGrow: 1, pb: 1 }}>\n        <Box sx={{ mb: 2 }}>\n          <Typography \n            variant=\"h6\" \n            component=\"h3\" \n            gutterBottom\n            sx={{ \n              fontWeight: 'bold',\n              fontSize: '1.1rem',\n              lineHeight: 1.3\n            }}\n          >\n            {item.item_name}\n          </Typography>\n          \n          <Typography \n            variant=\"body2\" \n            color=\"text.secondary\"\n            sx={{ \n              mb: 1,\n              display: '-webkit-box',\n              WebkitLineClamp: 2,\n              WebkitBoxOrient: 'vertical',\n              overflow: 'hidden',\n              lineHeight: 1.4\n            }}\n          >\n            {item.item_description}\n          </Typography>\n        </Box>\n\n        <Box sx={{ mb: 2 }}>\n          <Typography \n            variant=\"h6\" \n            color=\"primary\" \n            sx={{ fontWeight: 'bold' }}\n          >\n            {item.price} ₾\n          </Typography>\n        </Box>\n\n        <Box sx={{ display: 'flex', gap: 0.5, flexWrap: 'wrap' }}>\n          {item.is_vegetarian && (\n            <Chip \n              label=\"Вегетарианское\" \n              size=\"small\" \n              color=\"success\"\n              variant=\"outlined\"\n            />\n          )}\n          {item.is_spicy && (\n            <Chip \n              label=\"Острое\" \n              size=\"small\" \n              color=\"error\"\n              variant=\"outlined\"\n            />\n          )}\n          {item.category && (\n            <Chip \n              label={item.category.category_name} \n              size=\"small\" \n              variant=\"outlined\"\n            />\n          )}\n        </Box>\n      </CardContent>\n\n      <CardActions sx={{ px: 2, pb: 2, display: 'flex', gap: 1 }}>\n        <Button \n          size=\"small\" \n          variant=\"outlined\" \n          onClick={() => onViewDetails?.(item)}\n          sx={{ flex: 1 }}\n        >\n          Подробнее\n        </Button>\n        \n        {isAuthenticated && user?.role === 'user' && (\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={isLoading ? <CircularProgress size={16} color=\"inherit\" /> : <AddShoppingCartIcon />}\n            onClick={handleAddToCart}\n            disabled={isLoading}\n            sx={{ flex: 1 }}\n          >\n            {isLoading ? 'Добавляем...' : 'В корзину'}\n          </Button>\n        )}\n      </CardActions>\n    </Card>\n\n    <Snackbar\n      open={showSnackbar}\n      autoHideDuration={3000}\n      onClose={() => setShowSnackbar(false)}\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n    >\n      <Alert \n        onClose={() => setShowSnackbar(false)} \n        severity={snackbarMessage.includes('Ошибка') ? 'error' : 'success'}\n        sx={{ width: '100%' }}\n      >\n        {snackbarMessage}\n      </Alert>\n    </Snackbar>\n  </>\n  );\n};\n\nexport default MenuItemCard;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useMemo } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Grid,\n  CircularProgress,\n  Alert,\n  Pagination,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Chip,\n  Snackbar,\n} from '@mui/material';\nimport RestaurantIcon from '@mui/icons-material/Restaurant';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport LocalFireDepartmentIcon from '@mui/icons-material/LocalFireDepartment';\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\nimport { useMenuCategories, useMenu, useMenuItem } from '@/lib/api/hooks';\nimport { MenuFilterDto, MenuItemResponseDto } from '@/lib/api/types';\nimport MenuFilters from '@/components/menu/MenuFilters';\nimport MenuItemCard from '@/components/menu/MenuItemCard';\nimport { useCart } from '@/lib/cart-context';\nimport { useAuth } from '@/lib/auth-context';\n\nconst ITEMS_PER_PAGE = 12;\n\nexport default function MenuPage() {\n  const [filters, setFilters] = useState<MenuFilterDto>({\n    page: 1,\n    limit: ITEMS_PER_PAGE,\n    sort_by: 'created_at',\n    sort_order: 'DESC',\n  });\n\n  const [selectedItem, setSelectedItem] = useState<MenuItemResponseDto | null>(null);\n  const [detailsOpen, setDetailsOpen] = useState(false);\n  const [showSnackbar, setShowSnackbar] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n\n  const { data: categories = [], isLoading: categoriesLoading } = useMenuCategories();\n  const { data: menuData, isLoading: menuLoading, error: menuError } = useMenu(filters);\n  const { addToCart } = useCart();\n  const { isAuthenticated, user } = useAuth();\n\n  const handleFiltersChange = (newFilters: MenuFilterDto) => {\n    setFilters({\n      ...newFilters,\n      page: 1, // Сбрасываем на первую страницу при изменении фильтров\n      limit: ITEMS_PER_PAGE,\n    });\n  };\n\n  const handleClearFilters = () => {\n    setFilters({\n      page: 1,\n      limit: ITEMS_PER_PAGE,\n      sort_by: 'created_at',\n      sort_order: 'DESC',\n    });\n  };\n\n  const handlePageChange = (_: React.ChangeEvent<unknown>, page: number) => {\n    setFilters(prev => ({ ...prev, page }));\n  };\n\n  const handleViewDetails = (item: MenuItemResponseDto) => {\n    setSelectedItem(item);\n    setDetailsOpen(true);\n  };\n\n  const handleCloseDetails = () => {\n    setDetailsOpen(false);\n    setSelectedItem(null);\n  };\n\n  const handleAddToCartFromDetails = async () => {\n    if (!selectedItem) return;\n    \n    if (!isAuthenticated) {\n      setSnackbarMessage('Войдите в систему для добавления товаров в корзину');\n      setShowSnackbar(true);\n      return;\n    }\n\n    if (user?.role !== 'user') {\n      setSnackbarMessage('Только зарегистрированные клиенты могут добавлять товары в корзину');\n      setShowSnackbar(true);\n      return;\n    }\n\n    setIsAddingToCart(true);\n    try {\n      await addToCart(selectedItem.item_id, 1);\n      setSnackbarMessage('Товар добавлен в корзину!');\n      setShowSnackbar(true);\n      handleCloseDetails();\n    } catch (error: any) {\n      setSnackbarMessage(error.message || 'Ошибка при добавлении товара в корзину');\n      setShowSnackbar(true);\n    } finally {\n      setIsAddingToCart(false);\n    }\n  };\n\n  const isLoading = categoriesLoading || menuLoading;\n  const menuItems = menuData?.items || [];\n  const totalPages = menuData?.pages || 0;\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      {/* Заголовок */}\n      <Box sx={{ textAlign: 'center', mb: 4 }}>\n        <Typography \n          variant=\"h3\" \n          component=\"h1\" \n          gutterBottom\n          sx={{ \n            fontWeight: 'bold',\n            color: 'primary.main',\n            mb: 2\n          }}\n        >\n          Меню грузинской кухни\n        </Typography>\n        <Typography \n          variant=\"h6\" \n          color=\"text.secondary\"\n          sx={{ maxWidth: 600, mx: 'auto' }}\n        >\n          Аутентичные блюда, приготовленные по традиционным рецептам наших предков\n        </Typography>\n      </Box>\n\n      {/* Фильтры */}\n      <MenuFilters\n        filters={filters}\n        categories={categories}\n        onFiltersChange={handleFiltersChange}\n        onClearFilters={handleClearFilters}\n      />\n\n      {/* Загрузка */}\n      {isLoading && (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 8 }}>\n          <CircularProgress size={60} />\n        </Box>\n      )}\n\n      {/* Ошибка */}\n      {menuError && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          Произошла ошибка при загрузке меню. Попробуйте обновить страницу.\n        </Alert>\n      )}\n\n      {/* Результаты */}\n      {!isLoading && !menuError && (\n        <>\n          {/* Информация о результатах */}\n          <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              Найдено: {menuData?.total || 0} блюд\n            </Typography>\n            {menuData && menuData.total > 0 && (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Страница {menuData.page} из {menuData.pages}\n              </Typography>\n            )}\n          </Box>\n\n          {/* Сетка с блюдами */}\n          {menuItems.length > 0 ? (\n            <Box sx={{ display: 'grid', gridTemplateColumns: { xs: '1fr', sm: '1fr 1fr', md: '1fr 1fr 1fr' }, gap: 3 }}>\n              {menuItems.map((item: MenuItemResponseDto) => (\n                <MenuItemCard\n                  key={item.item_id}\n                  item={item}\n                  onViewDetails={handleViewDetails}\n                />\n              ))}\n            </Box>\n          ) : (\n            <Box sx={{ textAlign: 'center', py: 8 }}>\n              <RestaurantIcon sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n                Блюда не найдены\n              </Typography>\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                Попробуйте изменить параметры поиска или фильтры\n              </Typography>\n            </Box>\n          )}\n\n          {/* Пагинация */}\n          {totalPages > 1 && (\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n              <Pagination\n                count={totalPages}\n                page={filters.page || 1}\n                onChange={handlePageChange}\n                color=\"primary\"\n                size=\"large\"\n              />\n            </Box>\n          )}\n        </>\n      )}\n\n      {/* Диалог с деталями блюда */}\n      <Dialog \n        open={detailsOpen} \n        onClose={handleCloseDetails}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        {selectedItem && (\n          <>\n            <DialogTitle sx={{ pb: 1 }}>\n              <Typography variant=\"h5\" component=\"div\" sx={{ fontWeight: 'bold' }}>\n                {selectedItem.item_name}\n              </Typography>\n              <Typography variant=\"subtitle1\" component=\"span\" color=\"primary\" sx={{ fontWeight: 'bold', mt: 1, fontSize: '1.25rem' }}>\n                {selectedItem.price} ₾\n              </Typography>\n            </DialogTitle>\n            \n            <DialogContent>\n              {selectedItem.image_url && (\n                <Box sx={{ mb: 3 }}>\n                  <img\n                    src={selectedItem.image_url}\n                    alt={selectedItem.item_name}\n                    style={{\n                      width: '100%',\n                      height: '300px',\n                      objectFit: 'cover',\n                      borderRadius: '8px',\n                    }}\n                  />\n                </Box>\n              )}\n\n              {selectedItem.item_description && (\n                <Typography variant=\"body1\" sx={{ mb: 3, lineHeight: 1.6 }}>\n                  {selectedItem.item_description}\n                </Typography>\n              )}\n\n              <Box sx={{ mb: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Информация о блюде\n                </Typography>\n                \n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n                  <AccessTimeIcon fontSize=\"small\" />\n                  <Typography variant=\"body2\">\n                    Время приготовления: {selectedItem.cooking_time_minutes} мин\n                  </Typography>\n                </Box>\n\n                {selectedItem.calories !== null && selectedItem.calories !== undefined && (\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n                    <LocalFireDepartmentIcon fontSize=\"small\" />\n                    <Typography variant=\"body2\">\n                      Калории: {selectedItem.calories} ккал\n                    </Typography>\n                  </Box>\n                )}\n\n                <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mt: 2 }}>\n                  {selectedItem.is_vegetarian && (\n                    <Chip label=\"Вегетарианское\" size=\"small\" color=\"success\" />\n                  )}\n                  {selectedItem.is_spicy && (\n                    <Chip label=\"Острое\" size=\"small\" color=\"error\" />\n                  )}\n                  {selectedItem.category && (\n                    <Chip label={selectedItem.category.category_name} size=\"small\" />\n                  )}\n                </Box>\n              </Box>\n            </DialogContent>\n\n            <DialogActions sx={{ px: 3, pb: 3 }}>\n              <Button onClick={handleCloseDetails}>\n                Закрыть\n              </Button>\n              {isAuthenticated && user?.role === 'user' && (\n                <Button \n                  variant=\"contained\" \n                  color=\"primary\"\n                  startIcon={isAddingToCart ? <CircularProgress size={16} color=\"inherit\" /> : <AddShoppingCartIcon />}\n                  onClick={handleAddToCartFromDetails}\n                  disabled={isAddingToCart}\n                >\n                  {isAddingToCart ? 'Добавляем...' : 'Добавить в корзину'}\n                </Button>\n              )}\n            </DialogActions>\n          </>\n        )}\n      </Dialog>\n\n      {/* Уведомления */}\n      <Snackbar\n        open={showSnackbar}\n        autoHideDuration={3000}\n        onClose={() => setShowSnackbar(false)}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert \n          onClose={() => setShowSnackbar(false)} \n          severity={snackbarMessage.includes('Ошибка') ? 'error' : 'success'}\n          sx={{ width: '100%' }}\n        >\n          {snackbarMessage}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}