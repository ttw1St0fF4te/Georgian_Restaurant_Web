{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/restaurant/ManagerRestaurantCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Box,\n  Chip,\n  Button,\n  CardActions,\n  Rating,\n} from '@mui/material';\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\n\ninterface Restaurant {\n  restaurant_id: number;\n  restaurant_name: string;\n  restaurant_description: string;\n  city: string;\n  street_address: string;\n  rating?: number;\n  working_hours?: Record<string, string>;\n  is_active?: boolean;\n}\n\ninterface ManagerRestaurantCardProps {\n  restaurant: Restaurant;\n  onSelectRestaurant: (restaurantId: number) => void;\n}\n\nconst ManagerRestaurantCard: React.FC<ManagerRestaurantCardProps> = ({ restaurant, onSelectRestaurant }) => {\n  const formatWorkingHours = (workingHours?: Record<string, string>) => {\n    if (!workingHours) return 'Часы работы не указаны';\n    \n    const today = new Date().toLocaleDateString('en-US', { weekday: 'long' }).toLowerCase();\n    const todayHours = workingHours[today];\n    \n    const translateHours = (hours: string) => {\n      return hours.toLowerCase() === 'closed' ? 'Закрыт' : hours;\n    };\n    \n    if (todayHours) {\n      return `Сегодня: ${translateHours(todayHours)}`;\n    }\n    \n    // Показываем первый доступный день\n    const firstDay = Object.keys(workingHours)[0];\n    return `${firstDay}: ${translateHours(workingHours[firstDay])}`;\n  };\n\n  return (\n    <Card \n      sx={{ \n        height: '100%', \n        display: 'flex', \n        flexDirection: 'column',\n        transition: 'transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out',\n        '&:hover': {\n          transform: 'translateY(-2px)',\n          boxShadow: 3,\n        }\n      }}\n    >\n      <CardContent sx={{ flexGrow: 1, pb: 1 }}>\n        <Box sx={{ mb: 2 }}>\n          <Typography \n            variant=\"h6\" \n            component=\"h3\" \n            gutterBottom\n            sx={{ \n              fontWeight: 'bold',\n              fontSize: '1.2rem',\n              lineHeight: 1.3\n            }}\n          >\n            {restaurant.restaurant_name}\n          </Typography>\n          \n          {restaurant.restaurant_description && (\n            <Typography \n              variant=\"body2\" \n              color=\"text.secondary\"\n              sx={{ \n                mb: 2,\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical',\n                overflow: 'hidden',\n                lineHeight: 1.4\n              }}\n            >\n              {restaurant.restaurant_description}\n            </Typography>\n          )}\n        </Box>\n\n        {/* Рейтинг */}\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n          <Rating \n            value={Number(restaurant.rating) || 0} \n            readOnly \n            precision={0.1}\n            size=\"small\"\n          />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            ({Number(restaurant.rating).toFixed(1) || '0.0'})\n          </Typography>\n        </Box>\n\n        {/* Адрес */}\n        <Box sx={{ display: 'flex', alignItems: 'flex-start', gap: 1, mb: 2 }}>\n          <LocationOnIcon fontSize=\"small\" sx={{ mt: 0.5, color: 'text.secondary' }} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {restaurant.city}, {restaurant.street_address}\n          </Typography>\n        </Box>\n\n        {/* Часы работы */}\n        <Box sx={{ display: 'flex', alignItems: 'flex-start', gap: 1, mb: 2 }}>\n          <AccessTimeIcon fontSize=\"small\" sx={{ mt: 0.5, color: 'text.secondary' }} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {formatWorkingHours(restaurant.working_hours)}\n          </Typography>\n        </Box>\n\n        {/* Статус */}\n        <Box sx={{ mb: 2 }}>\n          <Chip \n            label={restaurant.is_active ? \"Открыт\" : \"Закрыт\"} \n            size=\"small\" \n            color={restaurant.is_active ? \"success\" : \"error\"}\n            variant=\"outlined\"\n          />\n        </Box>\n      </CardContent>\n\n      <CardActions sx={{ px: 2, pb: 2 }}>\n        <Button \n          size=\"small\" \n          variant=\"contained\" \n          color=\"primary\"\n          onClick={() => onSelectRestaurant(restaurant.restaurant_id)}\n          fullWidth\n        >\n          Выбрать ресторан\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default ManagerRestaurantCard;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/app/manager/reservations/create/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  Container,\n  Typography,\n  Box,\n  Grid2 as Grid,\n  CircularProgress,\n  Alert,\n  IconButton,\n} from '@mui/material';\nimport { ArrowBack as ArrowBackIcon } from '@mui/icons-material';\nimport { useAuth } from '@/lib/auth-context';\nimport { useRestaurants } from '@/lib/api/hooks';\nimport ManagerRestaurantCard from '@/components/restaurant/ManagerRestaurantCard';\n\nconst CreateReservationPage: React.FC = () => {\n  const router = useRouter();\n  const { user } = useAuth();\n\n  // Запросы данных\n  const { data: restaurants, isLoading: restaurantsLoading, error: restaurantsError } = useRestaurants();\n\n  // Проверка доступа\n  React.useEffect(() => {\n    if (user && user.role !== 'manager' && user.role !== 'admin') {\n      router.push('/');\n    }\n  }, [user, router]);\n\n  const handleRestaurantSelect = (restaurantId: number) => {\n    router.push(`/manager/reservations/create/${restaurantId}`);\n  };\n\n  if (restaurantsLoading) {\n    return (\n      <Container maxWidth=\"xl\" sx={{ mt: 4 }}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  if (restaurantsError) {\n    return (\n      <Container maxWidth=\"xl\" sx={{ mt: 4 }}>\n        <Alert severity=\"error\">\n          Ошибка при загрузке ресторанов: {restaurantsError.message}\n        </Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ mt: 4, mb: 4 }}>\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n        <IconButton\n          onClick={() => router.push('/manager/reservations')}\n          sx={{ mr: 2 }}\n          color=\"primary\"\n        >\n          <ArrowBackIcon />\n        </IconButton>\n        <Typography variant=\"h4\" component=\"h1\">\n          Создание бронирования - выберите ресторан\n        </Typography>\n      </Box>\n\n      <Grid container spacing={3}>\n        {Array.isArray(restaurants) && restaurants.length > 0 ? (\n          restaurants.map((restaurant: any) => (\n            <Grid item xs={12} sm={6} md={4} lg={3} key={restaurant.restaurant_id}>\n              <ManagerRestaurantCard \n                restaurant={restaurant} \n                onSelectRestaurant={handleRestaurantSelect}\n              />\n            </Grid>\n          ))\n        ) : (\n          <Grid item xs={12}>\n            <Box sx={{ textAlign: 'center', py: 4 }}>\n              {isLoading ? (\n                <CircularProgress size={24} />\n              ) : (\n                <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n                  Рестораны не найдены\n                </Typography>\n              )}\n              {!isLoading && (\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  В системе пока нет ресторанов для бронирования\n                </Typography>\n              )}\n            </Box>\n          </Grid>\n        )}\n      </Grid>\n    </Container>\n  );\n};\n\nexport default CreateReservationPage;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;;;AAhBA;;;;;;;;AAkBA,MAAM,wBAAkC;;IACtC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4IAAO;IAExB,iBAAiB;IACjB,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,kBAAkB,EAAE,OAAO,gBAAgB,EAAE,GAAG,IAAA,+IAAc;IAEpG,mBAAmB;IACnB,wKAAK,CAAC,SAAS;2CAAC;YACd,IAAI,QAAQ,KAAK,IAAI,KAAK,aAAa,KAAK,IAAI,KAAK,SAAS;gBAC5D,OAAO,IAAI,CAAC;YACd;QACF;0CAAG;QAAC;QAAM;KAAO;IAEjB,MAAM,yBAAyB,CAAC;QAC9B,OAAO,IAAI,CAAC,AAAC,gCAA4C,OAAb;IAC9C;IAEA,IAAI,oBAAoB;QACtB,qBACE,6LAAC,0NAAS;YAAC,UAAS;YAAK,IAAI;gBAAE,IAAI;YAAE;sBACnC,cAAA,6LAAC,kMAAG;gBAAC,SAAQ;gBAAO,gBAAe;gBAAS,YAAW;gBAAS,WAAU;0BACxE,cAAA,6LAAC,sPAAgB;;;;;;;;;;;;;;;IAIzB;IAEA,IAAI,kBAAkB;QACpB,qBACE,6LAAC,0NAAS;YAAC,UAAS;YAAK,IAAI;gBAAE,IAAI;YAAE;sBACnC,cAAA,6LAAC,0MAAK;gBAAC,UAAS;;oBAAQ;oBACW,iBAAiB,OAAO;;;;;;;;;;;;IAIjE;IAEA,qBACE,6LAAC,0NAAS;QAAC,UAAS;QAAK,IAAI;YAAE,IAAI;YAAG,IAAI;QAAE;;0BAC1C,6LAAC,kMAAG;gBAAC,IAAI;oBAAE,SAAS;oBAAQ,YAAY;oBAAU,IAAI;gBAAE;;kCACtD,6LAAC,8NAAU;wBACT,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,IAAI;4BAAE,IAAI;wBAAE;wBACZ,OAAM;kCAEN,cAAA,6LAAC,4KAAa;;;;;;;;;;kCAEhB,6LAAC,8NAAU;wBAAC,SAAQ;wBAAK,WAAU;kCAAK;;;;;;;;;;;;0BAK1C,6LAAC,6JAAI;gBAAC,SAAS;gBAAC,SAAS;0BACtB,MAAM,OAAO,CAAC,gBAAgB,YAAY,MAAM,GAAG,IAClD,YAAY,GAAG,CAAC,CAAC,2BACf,6LAAC,6JAAI;wBAAC,IAAI;wBAAC,IAAI;wBAAI,IAAI;wBAAG,IAAI;wBAAG,IAAI;kCACnC,cAAA,6LAAC,uKAAqB;4BACpB,YAAY;4BACZ,oBAAoB;;;;;;uBAHqB,WAAW,aAAa;;;;kFAQvE,6LAAC,6JAAI;oBAAC,IAAI;oBAAC,IAAI;8BACb,cAAA,6LAAC,kMAAG;wBAAC,IAAI;4BAAE,WAAW;4BAAU,IAAI;wBAAE;;4BACnC,0BACC,6LAAC,sPAAgB;gCAAC,MAAM;;;;;yFAExB,6LAAC,8NAAU;gCAAC,SAAQ;gCAAK,OAAM;gCAAiB,YAAY;0CAAC;;;;;;4BAI9D,CAAC,2BACA,6LAAC,8NAAU;gCAAC,SAAQ;gCAAQ,OAAM;0CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnE;GApFM;;QACW,kJAAS;QACP,4IAAO;QAG8D,+IAAc;;;KALhG;uCAsFS","debugId":null}}]
}