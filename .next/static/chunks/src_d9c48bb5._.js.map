{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/checkout/DeliveryForm.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Paper,\n  Typography,\n  Box,\n  TextField,\n  Button,\n  FormControlLabel,\n  Checkbox,\n  Alert,\n} from '@mui/material';\nimport {\n  LocalShipping as LocalShippingIcon,\n  Phone as PhoneIcon,\n  Home as HomeIcon,\n  LocationOn as LocationOnIcon,\n} from '@mui/icons-material';\n\ninterface DeliveryData {\n  country: string;\n  city: string;\n  street_address: string;\n  phone: string;\n  saveAddress: boolean;\n}\n\ninterface DeliveryFormProps {\n  data: DeliveryData;\n  onChange: (data: DeliveryData) => void;\n  onNext: () => void;\n}\n\nconst DeliveryForm: React.FC<DeliveryFormProps> = ({ data, onChange, onNext }) => {\n  const handleInputChange = (field: keyof Omit<DeliveryData, 'saveAddress'>) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    let value = event.target.value;\n    \n    // Валидация и форматирование телефона\n    if (field === 'phone') {\n      // Разрешаем только цифры, плюс в начале и ограничиваем длину\n      const cleanValue = value.replace(/[^\\d+]/g, '');\n      \n      // Проверяем, что плюс только в начале\n      let formattedValue = cleanValue;\n      if (cleanValue.includes('+')) {\n        const firstPlusIndex = cleanValue.indexOf('+');\n        if (firstPlusIndex === 0) {\n          // Убираем все остальные плюсы кроме первого\n          formattedValue = '+' + cleanValue.slice(1).replace(/\\+/g, '');\n        } else {\n          // Убираем все плюсы если они не в начале\n          formattedValue = cleanValue.replace(/\\+/g, '');\n        }\n      }\n      \n      // Ограничиваем длину (максимум 15 символов: + и 14 цифр)\n      if (formattedValue.length <= 15) {\n        value = formattedValue;\n      } else {\n        return; // Не обновляем состояние если превышена длина\n      }\n    }\n\n    onChange({\n      ...data,\n      [field]: value,\n    });\n  };\n\n  const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({\n      ...data,\n      saveAddress: event.target.checked,\n    });\n  };\n\n  const isFormValid = () => {\n    return (\n      data.country.trim() &&\n      data.city.trim() &&\n      data.street_address.trim() &&\n      data.phone.trim() &&\n      /^\\+?[1-9]\\d{8,14}$/.test(data.phone.trim())\n    );\n  };\n\n  return (\n    <Paper sx={{ p: 3 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        <LocalShippingIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n        Адрес доставки\n      </Typography>\n\n      <Alert severity=\"info\" sx={{ mb: 3 }}>\n        <Typography variant=\"body2\">\n          <strong>Важно:</strong> Доставка возможна только в города, где есть наши рестораны. \n          Стоимость доставки составляет 5% от суммы заказа.\n        </Typography>\n      </Alert>\n\n      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mb: 3 }}>\n        <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n          <TextField\n            label=\"Страна\"\n            value={data.country}\n            onChange={handleInputChange('country')}\n            required\n            fullWidth\n            sx={{ flex: '1 1 300px' }}\n            InputProps={{\n              startAdornment: <LocationOnIcon sx={{ mr: 1, color: 'action.active' }} />,\n            }}\n            placeholder=\"Введите страну\"\n          />\n          \n          <TextField\n            label=\"Город\"\n            value={data.city}\n            onChange={handleInputChange('city')}\n            required\n            fullWidth\n            sx={{ flex: '1 1 300px' }}\n            InputProps={{\n              startAdornment: <LocationOnIcon sx={{ mr: 1, color: 'action.active' }} />,\n            }}\n            placeholder=\"Введите город\"\n          />\n        </Box>\n\n        <TextField\n          label=\"Адрес доставки\"\n          value={data.street_address}\n          onChange={handleInputChange('street_address')}\n          required\n          fullWidth\n          multiline\n          rows={2}\n          InputProps={{\n            startAdornment: <HomeIcon sx={{ mr: 1, color: 'action.active', alignSelf: 'flex-start', mt: 1 }} />,\n          }}\n          placeholder=\"Введите улицу, номер дома, квартиру\"\n        />\n\n        <TextField\n          label=\"Контактный телефон\"\n          value={data.phone}\n          onChange={handleInputChange('phone')}\n          required\n          fullWidth\n          type=\"tel\"\n          InputProps={{\n            startAdornment: <PhoneIcon sx={{ mr: 1, color: 'action.active' }} />,\n          }}\n          placeholder=\"+995555123456\"\n          helperText=\"Введите номер в международном формате\"\n        />\n\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={data.saveAddress}\n              onChange={handleCheckboxChange}\n            />\n          }\n          label=\"Сохранить этот адрес в моём профиле\"\n        />\n      </Box>\n\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        onClick={onNext}\n        disabled={!isFormValid()}\n        fullWidth\n      >\n        Продолжить\n      </Button>\n    </Paper>\n  );\n};\n\nexport default DeliveryForm;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/checkout/DineInForm.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Paper,\n  Typography,\n  Box,\n  Button,\n  Alert,\n  Card,\n  CardContent,\n  Chip,\n} from '@mui/material';\nimport {\n  Restaurant as RestaurantIcon,\n  Event as EventIcon,\n  AccessTime as AccessTimeIcon,\n  People as PeopleIcon,\n  TableRestaurant as TableRestaurantIcon,\n} from '@mui/icons-material';\nimport type { ReservationResponseDto } from '@/lib/api/reservations';\n\ninterface DineInFormProps {\n  startedReservations: ReservationResponseDto[];\n  onNext: () => void;\n}\n\nconst DineInForm: React.FC<DineInFormProps> = ({ startedReservations, onNext }) => {\n  const hasStartedReservation = startedReservations.length > 0;\n  const reservation = startedReservations[0]; // Берем первое (по логике может быть только одно)\n\n  return (\n    <Paper sx={{ p: 3 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        <RestaurantIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n        Заказ в ресторане\n      </Typography>\n\n      {!hasStartedReservation ? (\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\n          <Typography variant=\"body2\">\n            <strong>Заказ в ресторане недоступен</strong>\n            <br />\n            У вас нет активного бронирования со статусом \"начато\". \n            Чтобы сделать заказ в ресторане, сначала создайте бронирование \n            и дождитесь его начала.\n          </Typography>\n        </Alert>\n      ) : (\n        <>\n          <Alert severity=\"success\" sx={{ mb: 3 }}>\n            <Typography variant=\"body2\">\n              <strong>Отлично!</strong> У вас есть активное бронирование. \n              Заказ будет доставлен к вашему столику в ресторане.\n            </Typography>\n          </Alert>\n\n          <Card variant=\"outlined\" sx={{ mb: 3 }}>\n            <CardContent>\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n                <Typography variant=\"h6\" component=\"h3\">\n                  {reservation.restaurant_name}\n                </Typography>\n                <Chip\n                  label=\"Начато\"\n                  color=\"primary\"\n                  size=\"small\"\n                />\n              </Box>\n\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 2 }}>\n                <Box sx={{ flex: '1 1 300px', minWidth: 200 }}>\n                  <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <EventIcon sx={{ mr: 1, fontSize: 16 }} />\n                    {reservation.reservation_date}\n                  </Typography>\n                  \n                  <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <AccessTimeIcon sx={{ mr: 1, fontSize: 16 }} />\n                    {reservation.reservation_time} ({reservation.duration_hours} ч.)\n                  </Typography>\n                </Box>\n                \n                <Box sx={{ flex: '1 1 300px', minWidth: 200 }}>\n                  <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <PeopleIcon sx={{ mr: 1, fontSize: 16 }} />\n                    {reservation.guests_count} человек(а)\n                  </Typography>\n                  \n                  <Typography variant=\"body2\" sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <TableRestaurantIcon sx={{ mr: 1, fontSize: 16 }} />\n                    Столик №{reservation.table_number}\n                  </Typography>\n                </Box>\n              </Box>\n\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                Создано: {new Date(reservation.created_at).toLocaleString('ru-RU')}\n                {reservation.confirmed_at && (\n                  <> • Подтверждено: {new Date(reservation.confirmed_at).toLocaleString('ru-RU')}</>\n                )}\n              </Typography>\n            </CardContent>\n          </Card>\n\n          <Alert severity=\"info\" sx={{ mb: 3 }}>\n            <Typography variant=\"body2\">\n              <strong>Информация:</strong> Заказ будет передан на кухню ресторана \n              и доставлен к вашему столику. Оплата производится в ресторане. \n              Комиссия за доставку не взимается.\n            </Typography>\n          </Alert>\n        </>\n      )}\n\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        onClick={onNext}\n        disabled={!hasStartedReservation}\n        fullWidth\n      >\n        {hasStartedReservation ? 'Продолжить' : 'Недоступно'}\n      </Button>\n    </Paper>\n  );\n};\n\nexport default DineInForm;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/components/checkout/OrderSummary.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Paper,\n  Typography,\n  Box,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemAvatar,\n  Avatar,\n  Chip,\n} from '@mui/material';\nimport {\n  Restaurant as RestaurantIcon,\n} from '@mui/icons-material';\nimport { OrderType } from '@/lib/api/orders';\n\ninterface CartItem {\n  cart_item_id: number;\n  item_id: number;\n  item_name: string;\n  unit_price: number;\n  quantity: number;\n  total_price: number;\n  image_url?: string;\n}\n\ninterface Cart {\n  cart_id: string;\n  user_id: string;\n  items: CartItem[];\n  total_items: number;\n  total_amount: number;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface OrderSummaryProps {\n  cart: Cart | null;\n  orderType: OrderType | '';\n  deliveryFee: number;\n  total: number;\n}\n\nconst OrderSummary: React.FC<OrderSummaryProps> = ({ \n  cart, \n  orderType, \n  deliveryFee, \n  total \n}) => {\n  if (!cart) {\n    return null;\n  }\n\n  return (\n    <Paper sx={{ p: 3, position: 'sticky', top: 20 }}>\n      <Typography variant=\"h6\" component=\"h3\" gutterBottom>\n        Ваш заказ\n      </Typography>\n      \n      <List dense>\n        {cart.items.map((item) => (\n          <ListItem key={item.cart_item_id} disableGutters>\n            <ListItemAvatar>\n              <Avatar sx={{ bgcolor: 'primary.main' }}>\n                <RestaurantIcon />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n              primary={item.item_name}\n              secondary={\n                <Box>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {(item.unit_price || 0).toFixed(2)} ₾ × {item.quantity || 0}\n                  </Typography>\n                </Box>\n              }\n            />\n            <Box sx={{ textAlign: 'right' }}>\n              <Typography variant=\"body1\" sx={{ fontWeight: 'medium' }}>\n                {(item.total_price || 0).toFixed(2)} ₾\n              </Typography>\n            </Box>\n          </ListItem>\n        ))}\n      </List>\n      \n      <Divider sx={{ my: 2 }} />\n      \n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n        <Typography variant=\"body1\">\n          Товары ({cart.total_items || 0} шт.):\n        </Typography>\n        <Typography variant=\"body1\">\n          {(cart.total_amount || 0).toFixed(2)} ₾\n        </Typography>\n      </Box>\n      \n      {orderType && (\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n          <Typography variant=\"body1\">\n            Тип заказа:\n          </Typography>\n          <Chip \n            label={orderType === 'delivery' ? 'Доставка' : 'В ресторане'} \n            size=\"small\"\n            color={orderType === 'delivery' ? 'warning' : 'success'}\n          />\n        </Box>\n      )}\n      \n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n        <Typography variant=\"body1\">\n          Доставка:\n        </Typography>\n        <Typography variant=\"body1\" color={deliveryFee > 0 ? 'warning.main' : 'success.main'}>\n          {deliveryFee > 0 ? `${deliveryFee.toFixed(2)} ₾` : 'Бесплатно'}\n        </Typography>\n      </Box>\n      \n      <Divider sx={{ my: 2 }} />\n      \n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n        <Typography variant=\"h6\" component=\"h4\" sx={{ fontWeight: 'bold' }}>\n          К оплате:\n        </Typography>\n        <Typography variant=\"h6\" component=\"h4\" sx={{ fontWeight: 'bold' }} color=\"primary\">\n          {(total || 0).toFixed(2)} ₾\n        </Typography>\n      </Box>\n\n      {orderType === 'delivery' && deliveryFee > 0 && (\n        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\n          * Стоимость доставки составляет 5% от суммы заказа\n        </Typography>\n      )}\n    </Paper>\n  );\n};\n\nexport default OrderSummary;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///Users/keluch/Desktop/coledj/4year/coursework2/georgian_restaurant_web/src/app/checkout/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Card,\n  CardContent,\n  Divider,\n  Alert,\n  CircularProgress,\n  Button,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  FormControl,\n  FormLabel,\n  Stepper,\n  Step,\n  StepLabel,\n} from '@mui/material';\nimport {\n  ShoppingCart as ShoppingCartIcon,\n  LocalShipping as LocalShippingIcon,\n  Restaurant as RestaurantIcon,\n  Home as HomeIcon,\n  ArrowBack as ArrowBackIcon,\n} from '@mui/icons-material';\n\nimport { useAuth } from '@/lib/auth-context';\nimport { useCart } from '@/lib/cart-context';\nimport { \n  useUserAddress, \n  useUserStartedReservations, \n  useCreateOrder \n} from '@/lib/api/hooks';\nimport { OrderType } from '@/lib/api/orders';\n\nimport DeliveryForm from '@/components/checkout/DeliveryForm';\nimport DineInForm from '@/components/checkout/DineInForm';\nimport OrderSummary from '@/components/checkout/OrderSummary';\n\nconst steps = ['Выбор типа заказа', 'Заполнение данных', 'Подтверждение'];\n\nexport default function CheckoutPage() {\n  const router = useRouter();\n  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n  const { cart, loading: cartLoading, error: cartError, refreshCart } = useCart();\n  \n  const [activeStep, setActiveStep] = useState(0);\n  const [orderType, setOrderType] = useState<OrderType | ''>('');\n  const [deliveryData, setDeliveryData] = useState({\n    country: '',\n    city: '',\n    street_address: '',\n    phone: '',\n    saveAddress: false,\n  });\n  const [validationErrors, setValidationErrors] = useState<string[]>([]);\n  \n  const { data: userAddress } = useUserAddress();\n  const { data: startedReservations = [] } = useUserStartedReservations();\n  const createOrderMutation = useCreateOrder();\n\n  // Проверяем авторизацию\n  useEffect(() => {\n    if (!authLoading && !isAuthenticated) {\n      router.push('/auth/login');\n      return;\n    }\n\n    if (!authLoading && user?.role !== 'user') {\n      router.push('/');\n      return;\n    }\n  }, [isAuthenticated, user, authLoading, router]);\n\n  // Загружаем корзину при монтировании компонента\n  useEffect(() => {\n    if (isAuthenticated && user?.role === 'user') {\n      refreshCart();\n    }\n  }, [isAuthenticated, user?.user_id, refreshCart]);\n\n  // Автозаполнение адреса из профиля пользователя\n  useEffect(() => {\n    if (userAddress && orderType === 'delivery') {\n      setDeliveryData(prev => ({\n        ...prev,\n        country: userAddress.country || '',\n        city: userAddress.city || '',\n        street_address: userAddress.street_address || '',\n      }));\n    }\n  }, [userAddress, orderType]);\n\n  // Показываем загрузку пока проверяется авторизация\n  if (authLoading) {\n    return (\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  // Если пользователь не авторизован или не является клиентом, не показываем контент\n  if (!isAuthenticated || user?.role !== 'user') {\n    return null;\n  }\n\n  // Если корзина пуста, перенаправляем на страницу корзины\n  if (!cartLoading && (!cart || cart.items.length === 0)) {\n    router.push('/cart');\n    return null;\n  }\n\n  const handleOrderTypeChange = (value: OrderType) => {\n    setOrderType(value);\n    setValidationErrors([]);\n    setActiveStep(1);\n  };\n\n  const handleBack = () => {\n    if (activeStep === 0) {\n      router.push('/cart');\n    } else {\n      setActiveStep(activeStep - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (activeStep === 1) {\n      // Валидация данных перед переходом к подтверждению\n      const errors = validateOrderData();\n      if (errors.length > 0) {\n        setValidationErrors(errors);\n        return;\n      }\n      setValidationErrors([]);\n      setActiveStep(2);\n    }\n  };\n\n  const validateOrderData = (): string[] => {\n    const errors: string[] = [];\n\n    if (orderType === 'delivery') {\n      if (!deliveryData.country.trim()) {\n        errors.push('Введите страну доставки');\n      }\n      if (!deliveryData.city.trim()) {\n        errors.push('Введите город доставки');\n      }\n      if (!deliveryData.street_address.trim()) {\n        errors.push('Введите адрес доставки');\n      }\n      if (!deliveryData.phone.trim()) {\n        errors.push('Введите контактный телефон');\n      } else {\n        const phoneRegex = /^\\+?[1-9]\\d{8,14}$/;\n        if (!phoneRegex.test(deliveryData.phone.trim())) {\n          errors.push('Телефон должен быть в международном формате');\n        }\n      }\n    } else if (orderType === 'dine_in') {\n      if (startedReservations.length === 0) {\n        errors.push('У вас нет активного бронирования со статусом \"начато\"');\n      }\n    }\n\n    return errors;\n  };\n\n  const handleCreateOrder = async () => {\n    try {\n      const orderData: any = {\n        order_type: orderType,\n      };\n\n      if (orderType === 'delivery') {\n        orderData.delivery_country = deliveryData.country.trim();\n        orderData.delivery_city = deliveryData.city.trim();\n        orderData.delivery_street_address = deliveryData.street_address.trim();\n        orderData.delivery_phone = deliveryData.phone.trim();\n        orderData.should_update_user_address = deliveryData.saveAddress;\n      } else if (orderType === 'dine_in' && startedReservations.length > 0) {\n        orderData.reservation_id = startedReservations[0].reservation_id;\n        orderData.should_update_user_address = false;\n      }\n\n      await createOrderMutation.mutateAsync(orderData);\n      router.push('/checkout/success');\n    } catch (error) {\n      console.error('Error creating order:', error);\n    }\n  };\n\n  const calculateDeliveryFee = () => {\n    if (!cart || orderType !== 'delivery') return 0;\n    return Math.round(cart.total_amount * 0.05 * 100) / 100;\n  };\n\n  const calculateTotal = () => {\n    if (!cart) return 0;\n    return cart.total_amount + calculateDeliveryFee();\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      <Box sx={{ mb: 4 }}>\n        <Button\n          startIcon={<ArrowBackIcon />}\n          onClick={handleBack}\n          sx={{ mb: 2 }}\n        >\n          {activeStep === 0 ? 'Вернуться в корзину' : 'Назад'}\n        </Button>\n\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          <ShoppingCartIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n          Оформление заказа\n        </Typography>\n\n        <Stepper activeStep={activeStep} sx={{ mb: 4 }}>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n\n        {cartError && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {cartError}\n          </Alert>\n        )}\n\n        {validationErrors.length > 0 && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {validationErrors.map((error, index) => (\n              <Typography key={index} variant=\"body2\">\n                {error}\n              </Typography>\n            ))}\n          </Alert>\n        )}\n      </Box>\n\n      {cartLoading ? (\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\n          <CircularProgress />\n        </Box>\n      ) : (\n        <Box sx={{ display: 'flex', flexDirection: { xs: 'column', lg: 'row' }, gap: 3 }}>\n          {/* Основная форма */}\n          <Box sx={{ flex: { lg: 2 } }}>\n            {activeStep === 0 && (\n              <Paper sx={{ p: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Выберите тип заказа\n                </Typography>\n                \n                <FormControl component=\"fieldset\" sx={{ width: '100%' }}>\n                  <RadioGroup\n                    value={orderType}\n                    onChange={(e) => handleOrderTypeChange(e.target.value as OrderType)}\n                  >\n                    <Card variant=\"outlined\" sx={{ mb: 2, cursor: 'pointer' }}>\n                      <CardContent>\n                        <FormControlLabel\n                          value=\"delivery\"\n                          control={<Radio />}\n                          label={\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <LocalShippingIcon sx={{ mr: 1 }} />\n                              <Box>\n                                <Typography variant=\"h6\">Доставка на дом</Typography>\n                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                  Доставим ваш заказ по указанному адресу. Комиссия за доставку 5%\n                                </Typography>\n                              </Box>\n                            </Box>\n                          }\n                          sx={{ width: '100%', m: 0 }}\n                        />\n                      </CardContent>\n                    </Card>\n\n                    <Card variant=\"outlined\">\n                      <CardContent>\n                        <FormControlLabel\n                          value=\"dine_in\"\n                          control={<Radio />}\n                          label={\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <RestaurantIcon sx={{ mr: 1 }} />\n                              <Box>\n                                <Typography variant=\"h6\">Заказ в ресторане</Typography>\n                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                  Заказ на стол в ресторане по активному бронированию\n                                </Typography>\n                              </Box>\n                            </Box>\n                          }\n                          sx={{ width: '100%', m: 0 }}\n                        />\n                      </CardContent>\n                    </Card>\n                  </RadioGroup>\n                </FormControl>\n              </Paper>\n            )}\n\n            {activeStep === 1 && orderType === 'delivery' && (\n              <DeliveryForm\n                data={deliveryData}\n                onChange={setDeliveryData}\n                onNext={handleNext}\n              />\n            )}\n\n            {activeStep === 1 && orderType === 'dine_in' && (\n              <DineInForm\n                startedReservations={startedReservations}\n                onNext={handleNext}\n              />\n            )}\n\n            {activeStep === 2 && (\n              <Paper sx={{ p: 3 }}>\n                <Typography variant=\"h6\" gutterBottom>\n                  Подтверждение заказа\n                </Typography>\n\n                <Typography variant=\"body1\" sx={{ mb: 3 }}>\n                  Тип заказа: {orderType === 'delivery' ? 'Доставка на дом' : 'Заказ в ресторане'}\n                </Typography>\n\n                {orderType === 'delivery' && (\n                  <Box sx={{ mb: 3 }}>\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                      Адрес доставки:\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {deliveryData.country}, {deliveryData.city}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      {deliveryData.street_address}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      Телефон: {deliveryData.phone}\n                    </Typography>\n                  </Box>\n                )}\n\n                {createOrderMutation.error && (\n                  <Alert severity=\"error\" sx={{ mb: 2 }}>\n                    {(createOrderMutation.error as any)?.message || 'Ошибка при создании заказа'}\n                  </Alert>\n                )}\n\n                <Button\n                  variant=\"contained\"\n                  size=\"large\"\n                  onClick={handleCreateOrder}\n                  disabled={createOrderMutation.isPending}\n                  startIcon={createOrderMutation.isPending ? <CircularProgress size={20} /> : null}\n                  fullWidth\n                >\n                  {createOrderMutation.isPending ? 'Создание заказа...' : 'Подтвердить заказ'}\n                </Button>\n              </Paper>\n            )}\n          </Box>\n\n          {/* Сводка заказа */}\n          <Box sx={{ flex: { lg: 1 } }}>\n            <OrderSummary\n              cart={cart}\n              orderType={orderType}\n              deliveryFee={calculateDeliveryFee()}\n              total={calculateTotal()}\n            />\n          </Box>\n        </Box>\n      )}\n    </Container>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}